{"version":3,"sources":["containers/admin/GradingPage/styles.module.css","containers/client/PlayPage/styles.module.css","containers/admin/StandingsPage/styles.module.css","containers/admin/DashboardPage/styles.module.css","containers/admin/HostQuestionPage/styles.module.css","components/TextInput/styles.module.css","containers/admin/HostPage/styles.module.css","assets/DukeNiteLogo.png","containers/HomePage/styles.module.css","containers/admin/LoginPage/styles.module.css","components/PopUp/styles.module.css","containers/client/AnswerPage/styles.module.css","serviceWorker.js","components/Firebase/firebase.js","tools/helpers.js","tools/AdminRoute.js","tools/GameRoute.js","containers/HomePage/index.js","components/TextInput/index.js","containers/client/PlayPage/index.js","containers/client/WaitingPage/excuses.js","containers/client/WaitingPage/index.js","containers/client/AnswerPage/index.js","containers/client/StandingPage/index.js","components/Loader/index.js","containers/admin/LoginPage/index.js","components/PopUp/index.js","containers/admin/DashboardPage/index.js","containers/admin/EditPage/index.js","containers/admin/HostPage/index.js","containers/admin/HostQuestionPage/index.js","containers/admin/GradingPage/index.js","containers/admin/StandingsPage/index.js","containers/admin/TiebreakerPage/index.js","index.js","containers/client/StandingPage/styles.module.css","containers/admin/EditPage/styles.module.css","containers/client/WaitingPage/styles.module.css","components/Loader/styles.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","Firebase","signInWithEmail","email","password","callback","auth","signInWithEmailAndPassword","then","res","success","msg","catch","err","message","createQuiz","name","round","emptyQuestion","questionText","answer","image","imageId","points","i","push","newQuiz","round1","round2","round3","newQuizRef","quizzesRef","set","key","deleteQuiz","id","child","remove","saveQuiz","quiz","getQuizzes","quizzes","once","snapshot","forEach","data","val","console","error","getQuiz","exists","hostQuiz","ref","quizId","date","getCurrentFormattedDate","stage","teams","getGame","liveGameRef","joinGame","teamName","teamIds","ids","inGame","setStage","newStage","getLiveGameRef","getQuizzesRef","setTeamAnswers","answers","removeTeam","setStandings","uploadImage","imageUrl","cloudinary","uploader","upload","result","secure_url","public_id","removeImage","destroy","Date","toISOString","slice","this","cloud_name","api_key","api_secret","process","REACT_APP_CLOUDINARY_API_SECRET","isAuth","token","jwt","verify","decoded","placeTexts","getIdsText","string","length","AdminRoute","state","haveAccess","loaded","checkAccess","bind","localStorage","getItem","setState","component","rest","render","to","withRouter","GameRoute","gameData","JSON","parse","HomePage","className","styles","container","src","DukeNiteLogo","alt","logo","draggable","textContainer","header","buttonContainer","button","TextInput","placeholder","onChange","autoFocus","value","width","type","customStyle","input","style","PlayPage","team","joinable","dbExists","currentTeam","dbRef","changeId","onJoin","onRejoin","game","on","off","e","index","target","preventDefault","filter","Object","keys","includes","removeItem","setItem","stringify","history","noRejoin","onSubmit","section","subheader","inputContainer","isMobile","map","idRow","classNames","plus","role","tabIndex","onClick","errorText","next","arrow","noJoin","opacity","display","excuses","array","Math","floor","random","WaitingPage","excuse","getExcuse","changeExcuse","split","text","excuseText","noButton","AnswerPage","changeAnswer","num","storedString","savedAnswers","a","answerContainer","answerNum","StandingPage","place","score","diff","diffTeam","tied","standings","entries","sort","b","currentPlace","s","indexOf","counter","abs","placeText","descText","Loader","margin","holder","bounce1","bounce2","bounce3","LoginPage","loading","loggedIn","onLogin","sign","user","expiresIn","form","PopUp","buttonOne","buttonTwo","inputValue","inputChange","inputPlaceholder","modal","bottomHolder","undefined","DashboardPage","creating","createText","deleteId","isLiveGame","onCreate","onDelete","loadQuizzes","loadLiveGame","hostGame","response","stageInfo","gameId","createContainer","createIcon","liveGameButton","liveGameText","quizzesContainer","q","quizHolder","quizContainer","quizButtonContainer","effect","tooltip","quizButton","data-tip","EditPage","redirect","saving","editTitle","showImageModal","imageIndex","uploadingImage","uploadError","params","setValue","setTitle","save","max","isImageUrl","url","headerContainer","buttonIcon","buttonText","marginRight","roundContainer","selected","questionContainer","questionNum","inputsContainer","inputText","centeredRow","pointsContainer","fontSize","lineHeight","fontWeight","textAlign","pointsText","imageContainer","deleteImage","imageButton","imageIcon","imageText","start","headerRow","headerText","startButton","instructText","teamsContainer","t","HostQuestionPage","qnum","parseInt","roundNum","question","questions","endRound","substring","questionImage","height","mode","nextButton","right","bottom","left","nextProps","prevState","newQnum","GradingPage","teamNames","currentTeamNum","teamCorrects","showQuestion","currentRoundTeamScores","changeGrade","prevTeam","nextTeam","updateTeamScore","timeout","setTimeout","log","document","getElementById","select","clearTimeout","questionScores","updatedTeams","prevTeamNum","prevTeamScores","nextTeamNum","nextTeamCorrects","scrollTo","reduce","accumulator","currentValue","isTie","maxScore","values","teamData","gradingContainer","divider","gradeContainer","showButton","questionIcon","viewText","marginLeft","min","popUp","showImage","showText","closeIcon","StandingsPage","numberToReveal","nextRound","reveal","headerLogo","standingsHolder","marginBottom","standingContainer","nameText","forceSingleModeWidth","scoreText","allTeams","tiedTeams","ReactDOM","Provider","exact","path","PlayStandingPage","HostPage","HostStandingsPage","HostTiebreakerPage","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.24759065.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3fmOw\",\"header\":\"styles_header__16etK\",\"nextButton\":\"styles_nextButton__2UA7U\",\"arrow\":\"styles_arrow__3KfRU\",\"headerContainer\":\"styles_headerContainer__2LCUg\",\"subheader\":\"styles_subheader__3kMlB\",\"gradingContainer\":\"styles_gradingContainer__3phHe\",\"gradeContainer\":\"styles_gradeContainer__FhMLm\",\"showButton\":\"styles_showButton__HKt2H\",\"questionIcon\":\"styles_questionIcon__-BlJq\",\"viewText\":\"styles_viewText__2u0H_\",\"answer\":\"styles_answer__23Llh\",\"pointsContainer\":\"styles_pointsContainer__1nStF\",\"pointsText\":\"styles_pointsText__qyd6W\",\"divider\":\"styles_divider__2renQ\",\"modal\":\"styles_modal__1UmlW\",\"popUp\":\"styles_popUp__IIsjh\",\"showImage\":\"styles_showImage__3styT\",\"showText\":\"styles_showText__38JKL\",\"closeIcon\":\"styles_closeIcon__375wy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2Gsp7\",\"header\":\"styles_header__2VMbp\",\"next\":\"styles_next__13gc7\",\"noJoin\":\"styles_noJoin__1QhOc\",\"errorText\":\"styles_errorText__2o_sS\",\"arrow\":\"styles_arrow__9MoYa\",\"section\":\"styles_section__2Kdy_\",\"subheader\":\"styles_subheader__pHoVV\",\"inputContainer\":\"styles_inputContainer__2nUOK\",\"idRow\":\"styles_idRow__1X-NH\",\"plus\":\"styles_plus__2y76E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3lTrs\",\"fadeIn\":\"styles_fadeIn__1eORX\",\"headerRow\":\"styles_headerRow__MiJ8j\",\"headerText\":\"styles_headerText__3p0vd\",\"headerLogo\":\"styles_headerLogo__217og\",\"nextButton\":\"styles_nextButton__SYerh\",\"arrow\":\"styles_arrow__dOaGy\",\"standingsHolder\":\"styles_standingsHolder__2XH4Y\",\"standingContainer\":\"styles_standingContainer__2KhXn\",\"placeText\":\"styles_placeText__3dTXT\",\"nameText\":\"styles_nameText__3kyKj\",\"scoreText\":\"styles_scoreText__1EzMm\",\"divider\":\"styles_divider__2bw6v\",\"tooltip\":\"styles_tooltip__1WKz3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3UfNe\",\"header\":\"styles_header__1WLkC\",\"createContainer\":\"styles_createContainer__qAYDm\",\"createIcon\":\"styles_createIcon__3qRoa\",\"createText\":\"styles_createText__1NVii\",\"liveGameButton\":\"styles_liveGameButton__3hTQb\",\"liveGameText\":\"styles_liveGameText__1nT77\",\"quizzesContainer\":\"styles_quizzesContainer__jTXkQ\",\"quizHolder\":\"styles_quizHolder__e0XJf\",\"quizContainer\":\"styles_quizContainer__1iojC\",\"quizButtonContainer\":\"styles_quizButtonContainer__2zByQ\",\"tooltip\":\"styles_tooltip__zFkMe\",\"quizButton\":\"styles_quizButton__yI1Gc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2Pfgh\",\"logo\":\"styles_logo__385PG\",\"header\":\"styles_header__20tLf\",\"questionContainer\":\"styles_questionContainer__1qrEh\",\"questionText\":\"styles_questionText__3XhaJ\",\"questionImage\":\"styles_questionImage__3gVwK\",\"nextButton\":\"styles_nextButton__24E7p\",\"arrow\":\"styles_arrow__1cgkW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"styles_input__2gjR5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1rzFR\",\"headerRow\":\"styles_headerRow__1Wabd\",\"logo\":\"styles_logo__G8q3e\",\"headerText\":\"styles_headerText__1NOiL\",\"instructText\":\"styles_instructText__1DB3c\",\"teamsContainer\":\"styles_teamsContainer__2d63P\",\"team\":\"styles_team__33vZw\",\"startButton\":\"styles_startButton__2vf_p\",\"arrow\":\"styles_arrow__3B4Yu\"};","module.exports = __webpack_public_path__ + \"static/media/DukeNiteLogo.b3375bd4.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3do-n\",\"logo\":\"styles_logo__pD3PO\",\"textContainer\":\"styles_textContainer__3WpNc\",\"header\":\"styles_header__Ar5HI\",\"buttonContainer\":\"styles_buttonContainer__1X4ep\",\"button\":\"styles_button__2xx59\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3AxTy\",\"form\":\"styles_form__EpAMH\",\"header\":\"styles_header__Ox5bv\",\"subheader\":\"styles_subheader__2bniS\",\"button\":\"styles_button__1aRaP\",\"error\":\"styles_error__3008p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"styles_modal__2uwhm\",\"container\":\"styles_container__3UtJn\",\"text\":\"styles_text__1qdLN\",\"bottomHolder\":\"styles_bottomHolder__gexfi\",\"buttonContainer\":\"styles_buttonContainer__b14wl\",\"button\":\"styles_button__3t6ZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__158Pe\",\"header\":\"styles_header__1Pd7W\",\"answerContainer\":\"styles_answerContainer__390sy\",\"answerNum\":\"styles_answerNum__2ponQ\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport * as firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\nimport cloudinary from 'cloudinary/lib/cloudinary';\n\nconst config = {\n  apiKey: \"AIzaSyARGwqdebOb043X-pjG6b18iGkJ7LDRk68\",\n  authDomain: \"duu-trivia-c9587.firebaseapp.com\",\n  databaseURL: \"https://duu-trivia-c9587.firebaseio.com\",\n  projectId: \"duu-trivia-c9587\",\n  storageBucket: \"duu-trivia-c9587.appspot.com\",\n  messagingSenderId: \"653573216029\",\n  appId: \"1:653573216029:web:c9f655c0b7b000eddef3f4\"\n};\n\nconst LIVE_GAME_REF = \"currentGame\";\nconst QUIZZES_REF = \"quizzes\";\n\nclass Firebase {\n  constructor() {\n    firebase.initializeApp(config);\n    this.auth = firebase.auth();\n    this.liveGameRef = this.getLiveGameRef();\n    this.quizzesRef = this.getQuizzesRef();\n\n    cloudinary.config({\n      cloud_name: 'db5gwfiow',\n      api_key: '346544944152446',\n      api_secret: process.env.REACT_APP_CLOUDINARY_API_SECRET,\n    });\n  }\n\n  /**\n   * @param {string} email\n   * @param {string} password\n   * @param {function} callback\n   *\n   */\n  signInWithEmail = (email, password, callback) => {\n    this.auth.signInWithEmailAndPassword(email, password)\n      .then((res) => {\n        callback({ success: true, msg: email });\n      })\n      .catch((err) => {\n        callback({ success: false, msg: err.message })\n      });\n  };\n\n  /**\n   * @param {String} name\n   * @param {function} callback\n   */\n  createQuiz = (name, callback) => {\n    // create an empty round array\n    // 11 questions in case of bonus\n    const round = [];\n    const emptyQuestion = {\n      questionText: '',\n      answer: '',\n      image: '',\n      imageId: '',\n      points: 1,\n    };\n    for (let i = 0; i < 11; i++) {\n      round.push(emptyQuestion);\n    }\n\n    const newQuiz = {\n      name,\n      round1: round,\n      // add the tiebreaker to round 2\n      round2: [...round, emptyQuestion],\n      round3: round\n    };\n\n    let newQuizRef = this.quizzesRef.push();\n    newQuizRef.set(newQuiz)\n      .then(() => callback(newQuizRef.key));\n  };\n\n  /**\n   * Delete a quiz by its id\n   * @param {String} quizId\n   * @param {function} callback\n   */\n  deleteQuiz = (id, callback) => {\n    this.quizzesRef.child(id)\n      .remove()\n      .then(callback);\n  };\n\n  /**\n   * save a whole quiz\n   * it's essential that the quiz is the whole quiz object\n   * @param {String} quizId\n   * @param {Object} quiz\n   * @param {function} callback\n   */\n  saveQuiz = (id, quiz, callback) => {\n    this.quizzesRef.child(id)\n      .set(quiz)\n      .then(callback);\n  };\n\n  /**\n   * returns all quizzes in the database\n   * @param {function} callback\n   */\n  getQuizzes = (callback) => {\n    const quizzes = [];\n    this.quizzesRef.once('value')\n      .then(snapshot => {\n        snapshot.forEach(child => {\n          quizzes.push({\n            id: child.key,\n            data: child.val()\n          });\n        });\n        callback(quizzes);\n      })\n      .catch(err => console.error('Error getting documents', err));\n  };\n\n  /**\n   * Get a quiz by its ID\n   * @param {String} quizID\n   * @param {function} callback\n   */\n  getQuiz = (id, callback) => {\n    this.quizzesRef.child(id)\n      .once('value')\n      .then(snapshot => {\n        if (!snapshot.exists()) {\n          callback({ success: false });\n        } else {\n          callback({ success: true, data: snapshot.val() });\n        }\n      })\n      .catch((err) => {\n        console.error('Error getting document', err);\n        callback({ success: false });\n      });\n  };\n\n  /**\n   * create a new game by hosting a quiz\n   * @param {String} quizId\n   */\n  hostQuiz = (id) => {\n    // store the questions here so we can easily get them\n    // and they don't change\n    this.getQuiz(id, (res) => {\n      if (!res.data) return;\n\n      firebase.database().ref(LIVE_GAME_REF).set({\n        quizId: id,\n        date: this.getCurrentFormattedDate(),\n        stage: 'join',\n        round1: res.data.round1,\n        round2: res.data.round2,\n        round3: res.data.round3,\n        teams: [],\n      });\n    });\n  };\n\n  /**\n   * calls the callback with all the data for the current game\n   * @param {function} callback\n   */\n  getGame = (callback) => {\n    this.liveGameRef.once('value')\n      .then((snapshot) => {\n        callback({ success: true, data: snapshot.val() });\n      })\n      .catch(err => callback({ success: false }));\n  };\n\n  /**\n   * joins the live game by adding the team\n   * to the teams object\n   * @param {String} teamName\n   * @param {array} teamIds\n   * @param {function} callback\n   */\n  joinGame = (teamName, teamIds, callback) => {\n    this.liveGameRef.once('value')\n      .then((snapshot) => {\n        // if first team, we create the new object\n        const teams = snapshot.val().teams || {};\n        teams[teamName] = {\n          ids: teamIds,\n        };\n\n        firebase.database().ref(LIVE_GAME_REF).child('teams').set(teams);\n\n        // calls callback with the date and team name to\n        // store in local storage for the client\n        // date for verification of being in live game\n        // name for accessing team in live game later\n        callback({\n          date: snapshot.val().date,\n          name: teamName,\n        });\n      });\n  };\n\n  /**\n   * used to verify that the user is in the live game\n   * by seeing if their date is equal to the live game's start date\n   * @param {String} date\n   * @param {function} callback\n   */\n  inGame = (date, callback) => {\n    this.liveGameRef.once('value')\n      .then((snapshot) => {\n        callback(snapshot.val().date === date);\n      });\n  };\n\n  /**\n   * changes the live game's stage\n   * @param {String} newStage\n   * @param {function} callback\n   */\n  setStage = (newStage, callback) => {\n    this.liveGameRef\n      .child('stage')\n      .set(newStage)\n      .then(callback);\n  }\n\n  /**\n   * returns a reference to the live game part of the database\n   */\n  getLiveGameRef = () => {\n    return firebase.database().ref(LIVE_GAME_REF);\n  };\n\n  /**\n   * Returns a reference to the quizzes part of the database\n   */\n  getQuizzesRef = () => {\n    return firebase.database().ref(QUIZZES_REF);\n  };\n\n  /**\n   * save a team answers for a round\n   * @param {string} teamName\n   * @param {string} round\n   * @param {array} answers\n   */\n  setTeamAnswers = (teamName, round, answers) => {\n    this.liveGameRef.child(`teams/${teamName}/${round}`).set(answers);\n  };\n\n  /**\n   * remove a team from the live game\n   * @param {string} teamName\n   */\n  removeTeam = (teamName) => {\n    this.liveGameRef.child(`teams/${teamName}`).remove();\n  }\n\n  /**\n   * set the new team standings and set stage to standings\n   * @param {object} teams\n   * @param {string} round\n   * @param {function} callback\n   */\n  setStandings = (teams, round, callback) => {\n    // inefficient christmas tree, but not sure if await works with firebase\n    this.liveGameRef.child('teams').set(teams)\n      .then(() => {\n        this.setStage(`${round}-${round === 'round3' ? 'final standings' : 'standings'}`, callback);\n      });\n  };\n\n  /**\n  * upload a image to firebase storage and get the url\n  * @param {string} imageUrl\n  * @param {function} callback\n  */\n  uploadImage = (imageUrl, callback) => {\n    // we want to take an image url hosted somewhere else\n    // and then host it on cloudinary and get our own url\n    cloudinary.uploader.upload(imageUrl, (result) => {\n      // return the url to show the image, and uniqueId to delete it if needed later\n      callback(result.secure_url, result.public_id)\n    });\n  };\n\n  /**\n   * removes an image from firebase storage\n   * @param {string} imageId\n   */\n  removeImage = (imageId) => {\n    cloudinary.uploader.destroy(imageId);\n  };\n\n  /**\n   * @returns {string}\n   */\n  getCurrentFormattedDate = () => {\n    // this will return the date in the format MM-DD-YYYY\n    // - used for uniqueness in games\n    return new Date().toISOString().slice(0, 10);\n  };\n}\n\n// Order of stages:\n// 1: join\n// 2: round1\n// 3: round1-grading\n// 4: round1-standings\n// 5: round2\n// 6: round2-grading\n// 7: round2-standings\n// 8: round3\n// 9: round3-grading\n// 10: round3-final standings\n// 11: finished\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default Firebase;\n\nexport { FirebaseContext };\n","import jwt from 'jsonwebtoken';\n\n// gets if the user is authenticated by their JWT\n// use callback because of async\nexport const isAuth = (token, callback) => {\n  jwt.verify(token, process.env.REACT_APP_JWT_SECRET, (err, decoded) => {\n    if (err) {\n      callback({ success: false, data: err });\n    } else {\n      callback({ success: true, data: decoded});\n    }\n  });\n};\n\n// grabs a random element from the provided array\nexport const randomElement = (array) => {\n  return array[Math.floor(Math.random() * array.length)];\n};\n\nconst placeTexts = [\n  'st',\n  'nd',\n  'rd',\n  'th',\n];\n\n// returns element from placeTexts that matches place\nexport const getPlaceText = (place) => {\n  return place % 100 < 11 || place % 100 > 13\n    ? place % 10 === 1\n      ? placeTexts[0] : place % 10 === 2\n        ? placeTexts[1] : place % 10 === 3\n          ? placeTexts[2] : placeTexts[3] : placeTexts[3];\n};\n\n// takes net ids and puts them in a string\nexport const getIdsText = (ids) => {\n  let string = ids[0];\n  if (ids.length === 2) {\n    string += ` & ${ids[1]}`;\n  } else {\n    for (let i = 1; i < ids.length; i++) {\n      if (i === ids.length - 1) {\n        string += `, & ${ids[i]}`;\n      } else {\n        string += `, ${ids[i]}`;\n      }\n    }\n  }\n  return string;\n};\n","import React from 'react';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { isAuth } from './helpers';\n\nclass AdminRoute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      haveAccess: false,\n      loaded: false,\n    };\n\n    this.checkAccess = this.checkAccess.bind(this);\n  }\n\n  componentDidMount() {\n    this.checkAccess();\n  }\n\n  // see if we can access the page\n  // for admin pages, we just need to have\n  // a valid jwt in local storage\n  checkAccess() {\n    isAuth(localStorage.getItem('token'), (res) => {\n      this.setState({\n        haveAccess: res.success,\n        loaded: true,\n      });\n    });\n  }\n\n  render() {\n    // don't load the page until we know if we can access it or not\n    if (!this.state.loaded) return null;\n\n    // do this to take the props from the AdminRoute to a normal Route\n    const { component: Component, ...rest } = this.props;\n\n    // once we figure out if we have access, either load the page or redirect\n    return (\n      <Route\n        {...rest}\n        render={(props) => {\n          return this.state.haveAccess ? (\n            <Component {...props} />\n          ) : (\n            <Redirect to=\"/admin/login\" />\n          );\n        }}\n      />\n    );\n  }\n}\n\nAdminRoute.propTypes = {\n  component: PropTypes.func,\n};\n\nexport default withRouter(AdminRoute);\n","import React from 'react';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { withFirebase } from '../components/Firebase/firebase';\n\nclass GameRoute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      haveAccess: false,\n      loaded: false,\n    };\n\n    this.firebase = props.firebase;\n\n    this.checkAccess = this.checkAccess.bind(this);\n  }\n\n  componentDidMount() {\n    this.checkAccess();\n  }\n\n  // see if we can access the page\n  // for game page, we need to see if the game data\n  // stored in local storage is for the current game\n  checkAccess() {\n    const gameData = JSON.parse(localStorage.getItem('game'));\n\n    if (!gameData) {\n      this.setState({\n        haveAccess: false,\n        loaded: true,\n      });\n    } else {\n      this.firebase.inGame(gameData.date, (haveAccess) => {\n        this.setState({\n          haveAccess: haveAccess,\n          loaded: true,\n        });\n      });\n    }\n  }\n\n  render() {\n    // don't load the page until we know if we can access it or not\n    if (!this.state.loaded) return null;\n\n    // do this to take the props from the GameRoute to a normal Route\n    const { component: Component, ...rest } = this.props;\n\n    // once we figure out if we have access, either load the page or redirect\n    return (\n      <Route\n        {...rest}\n        render={(props) => {\n          return this.state.haveAccess ? (\n            <Component {...props} />\n          ) : (\n            <Redirect to=\"/play\" />\n          );\n        }}\n      />\n    );\n  }\n}\n\nGameRoute.propTypes = {\n  component: PropTypes.func,\n  firebase: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(GameRoute));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport DukeNiteLogo from '../../assets/DukeNiteLogo.png';\nimport styles from './styles.module.css';\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className={styles.container}>\n        <img src={DukeNiteLogo} alt=\"Duke@Nite Logo\" className={styles.logo} draggable={false} />\n        <div className={styles.textContainer}>\n          <div className={styles.header}>\n            trivia night\n          </div>\n\n          <div className={styles.buttonContainer}>\n            <Link className={styles.button} to=\"/play\">\n              play\n            </Link>\n            <Link className={styles.button} to=\"/admin/login\">\n              login\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.css';\n\nconst TextInput = ({ placeholder, onChange, autoFocus, value, width, type, customStyle, id }) => {\n  // fontSize defaults to 20px if not included\n  return (\n    <input\n      className={styles.input}\n      style={{\n        width: `calc(${width} - 20px)`,\n        ...customStyle,\n      }}\n      id={id}\n      placeholder={placeholder}\n      onChange={onChange}\n      type={type || 'text'}\n      autoFocus={autoFocus ? 'autofocus' : ''}\n      value={value}\n    />\n  );\n};\n\nTextInput.propTypes = {\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  autoFocus: PropTypes.bool,\n  value: PropTypes.any,\n  width: PropTypes.string,\n  type: PropTypes.string,\n  customStyle: PropTypes.object,\n  id: PropTypes.string,\n};\n\nexport default TextInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport { isMobile } from 'react-device-detect';\nimport classNames from 'classnames';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport TextInput from '../../../components/TextInput';\n\nclass PlayPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      team: '',\n      ids: [''],\n      joinable: false,\n      error: '',\n      dbExists: true,\n      currentTeam: '',\n    };\n\n    this.firebase = props.firebase;\n    this.dbRef = this.firebase.getLiveGameRef();\n\n    this.changeId = this.changeId.bind(this);\n    this.onJoin = this.onJoin.bind(this);\n    this.onRejoin = this.onRejoin.bind(this);\n  }\n\n  componentDidMount() {\n    // see if we can join the game right now\n    this.firebase.getGame((game) => {\n      if (!game.success) {\n        this.setState({ dbExists: false });\n      } else {\n        this.setState({\n          joinable: game.data.stage !== 'finished',\n          dbExists: true,\n        });\n      }\n    });\n\n    // in the future, listen for changes\n    this.dbRef.on('value', (snapshot) => {\n      if (snapshot.exists()) {\n        this.setState({\n          joinable: snapshot.val().stage !== 'finished',\n        });\n      }\n    });\n\n    // allow team to reconnect\n    const gameData = JSON.parse(localStorage.getItem('game'));\n    if (gameData) {\n      // make sure its a valid token\n      this.firebase.inGame(gameData.date, (haveAccess) => {\n        this.setState({\n          currentTeam: haveAccess ? gameData.name : '',\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    // stop listening so we don't try to update this page when we're not here\n    this.dbRef.off('value');\n  }\n\n  changeId(e, index) {\n    const ids = [...this.state.ids];\n    ids[index] = e.target.value;\n    this.setState({ ids, error: '' });\n  }\n\n  onJoin(e) {\n    e.preventDefault();\n\n    let error = '';\n\n    const ids = this.state.ids.filter((id) => (id !== ''));\n    if (!ids[0]) {\n      error = 'we need at least one net id';\n    }\n\n    if (!this.state.team) {\n      error = \"what's your team's name\";\n    }\n\n    this.firebase.getGame((res) => {\n      if (!res.success) return;\n      const game = res.data;\n      const teams = game.teams ? Object.keys(game.teams) : [];\n      if (teams.includes(this.state.team)) {\n        error = \"team name already taken\";\n      }\n\n      if (error) {\n        this.setState({ error });\n      } else {\n        // remove old team\n        if (this.state.currentTeam) {\n          this.firebase.removeTeam(this.state.currentTeam);\n          localStorage.removeItem('game');\n          localStorage.removeItem('trivia-answers');\n        }\n        // join game\n        this.firebase.joinGame(this.state.team, ids, (data) => {\n          // localStorage can't store objects, so we stringify it\n          // but this means we have to call JSON.parse each time we want to access it\n          localStorage.setItem('game', JSON.stringify(data));\n          // waiting will automatically redirect it to the right page\n          this.props.history.push('/play/waiting');\n        });\n      }\n    });\n  }\n\n  onRejoin() {\n    // clear token and state if we can't actually rejoin\n    const noRejoin = () => {\n      localStorage.removeItem('game');\n      localStorage.removeItem('trivia-answers');\n      this.setState({ currentTeam: '' });\n    };\n\n    // make sure token is still valid\n    const gameData = JSON.parse(localStorage.getItem('game'));\n    if (gameData) {\n      this.firebase.inGame(gameData.date, (haveAccess) => {\n        // then, see if we are still a team in the game\n        this.firebase.getGame((res) => {\n          if (!res.success) return;\n          const game = res.data;\n          const teams = game.teams ? Object.keys(game.teams) : [];\n          if (teams.includes(gameData.name)) {\n            // waiting will automatically redirect it to the right page\n            this.props.history.push('/play/waiting');\n          } else {\n            noRejoin();\n          }\n        });\n      });\n    } else {\n      noRejoin();\n    }\n  }\n\n  render() {\n    if (!this.state.dbExists) {\n      return <Redirect to=\"/\" />\n    }\n\n    return (\n      <form onSubmit={this.onJoin} className={styles.container}>\n        <div className={styles.header}>\n          register your team\n        </div>\n\n        <div className={styles.section}>\n          <div className={styles.subheader}>\n            team name\n          </div>\n          <div className={styles.inputContainer}>\n            <TextInput\n              value={this.state.team}\n              autoFocus={!isMobile}\n              onChange={(e) => this.setState({ team: e.target.value.slice(0, 35), error: '' })}\n              width=\"80%\"\n            />\n          </div>\n        </div>\n\n        <div className={styles.section}>\n          <div className={styles.subheader}>\n            player netIDs\n          </div>\n          <div className={styles.inputContainer}>\n            {this.state.ids.map((id, index) => (\n              <div className={styles.idRow} key={index}>\n                <TextInput\n                  value={id}\n                  onChange={(e) => this.changeId(e, index)}\n                  width={isMobile ? '20vw' : '9vw'}\n                />\n\n                {index + 1 === this.state.ids.length ? (\n                  <div\n                    className={classNames(styles.plus, 'fas fa-plus')}\n                    role=\"button\"\n                    tabIndex={0}\n                    onClick={() => this.setState({ ids: [...this.state.ids, ''] })}\n                  />\n                ) : null}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {this.state.error ? (\n          <div className={styles.errorText}>\n            {this.state.error}\n          </div>\n        ) : this.state.joinable && this.state.currentTeam && !this.state.team ? (\n          <div className={styles.next} role=\"button\" tabIndex={0} onClick={this.onRejoin}>\n            {`rejoin as: ${this.state.currentTeam}`}\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n        ) : this.state.joinable ? (\n          <div className={styles.next} role=\"button\" tabIndex={0} onClick={this.onJoin}>\n            join\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n        ) : (\n          <div className={styles.noJoin}>\n            no live game\n          </div>\n        )}\n\n        <input type=\"submit\" style={{ opacity: 0, display: 'none' }} />\n      </form>\n    );\n  }\n}\n\nPlayPage.propTypes = {\n  firebase: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(PlayPage));\n","import { randomElement } from '../../../tools/helpers';\n\nconst excuses = [\n  'studying',\n  'baking cookies',\n  'looking for keys',\n  'charging airpods',\n  'making a sandwich',\n  'integrating',\n  'differentiating',\n  'taking a nap',\n  'reading',\n  'working out',\n  'titrating',\n  'getting lunch',\n  'getting dinner',\n  'procrastinating',\n  'not paying attention',\n  '\"studying\"',\n  'browsing amazon',\n  'tweeting',\n  'talking to mom',\n  'white water rafting',\n  'practicing piano',\n  'climbing rocks',\n  'tenting',\n  'bowling',\n  'certainly not texting and driving',\n  'updating apps',\n  'unsubscribing from newsletters',\n  'waiting for pasta',\n  'waiting for the c3',\n  '3d printing',\n  'listening to a podcast',\n  'stuck on a 30s ad',\n  'making flashcards',\n  'doing math hw',\n  'doing apts',\n  'lost in perkins',\n  'getting 8 hrs of sleep',\n  'still at marketplace',\n  'calling an uber',\n  'sending venmo requests',\n  'completing two-step verification',\n  'dropping a class',\n  'searching for classes',\n  'considering a new major',\n  'reloading flex',\n  'sending streaks',\n  'watching netflix',\n  'skipping an 8:30',\n  'doing laundry',\n  'browsing tinder',\n  'burning benches',\n  'still in a lab',\n  'taking a midterm',\n  'late again',\n  'writing the questions',\n  'readying cannons',\n  'counting down',\n  'entering warp drive',\n  'starting your engines',\n  'brushing off cobwebs',\n  'ordering pizza',\n  'learning spanish',\n  'learning french',\n  'learning chinese',\n  'learning japanese',\n  'learning german',\n  'learning sign language',\n  'hacking into the system',\n  'writing an essay',\n  'coding',\n  'playing fortnite',\n  'eating pi',\n  'waiting for brian',\n  'googling answers',\n  'applying filters',\n  'doing a barrel roll',\n  'making toast',\n  'mining cryptocurrency',\n  'definitly not crashing the site',\n];\n\nexport default () => {\n  return randomElement(excuses);\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport getExcuse from './excuses';\n\nclass WaitingPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      excuse: getExcuse(),\n    };\n\n    this.firebase = props.firebase;\n    this.dbRef = this.firebase.getLiveGameRef();\n\n    this.changeExcuse = this.changeExcuse.bind(this);\n  }\n\n  componentDidMount() {\n    // listen for the first round to start or grading to be finished (standings to show)\n    // then go to answer page when it does\n    this.dbRef.on('value', (snapshot) => {\n      const stage = snapshot.val().stage;\n      if (['round1', 'round2', 'round3'].includes(stage)) {\n        this.props.history.push('/play/answer');\n      } else if (stage.includes('-') && stage.split('-')[1].includes('standings')) {\n        this.props.history.push('/play/standing');\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // stop listening so we don't try to update this page when we're not here\n    this.dbRef.off('value');\n  }\n\n  changeExcuse() {\n    this.setState({ excuse: getExcuse() });\n  }\n\n  render() {\n    return (\n      <div className={styles.container}>\n        <div className={styles.text}>\n          waiting because the host is\n        </div>\n        <div className={styles.excuseText}>\n          {this.state.excuse}\n        </div>\n\n        <div className={styles.noButton} role=\"button\" tabIndex={0} onClick={this.changeExcuse}>\n          no\n        </div>\n      </div>\n    );\n  }\n}\n\nWaitingPage.propTypes = {\n  history: PropTypes.object,\n  firebase: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(WaitingPage));\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { isMobile } from 'react-device-detect';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport TextInput from '../../../components/TextInput';\n\nclass AnswerPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      answers: [],\n      stage: '',\n    };\n\n    this.firebase = props.firebase;\n    this.dbRef = this.firebase.getLiveGameRef();\n\n    this.round = '';\n\n    this.changeAnswer = this.changeAnswer.bind(this);\n  }\n\n  componentDidMount() {\n    this.firebase.getGame((res) => {\n      if (!res.success) return;\n      const game = res.data;\n      let num = 10;\n      this.round = game.stage;\n      // see if there is a bonus question for this round\n      // if so add an extra answer field\n      if (game[game.stage] && game[game.stage][10] && game[game.stage][10].questionText) {\n        num += 1;\n      }\n      // see if there is a tiebreaker question for this round\n      // if so add an extra answer field\n      if (game[game.stage] && game[game.stage][11] && game[game.stage][11].questionText) {\n        num += 1;\n      }\n      // add an empty answer for each question\n      let answers = [];\n      for (let i = 0; i < num; i++) {\n        answers.push('');\n      }\n\n      // format the header in a long and boring way\n      let stage = '';\n      if (game.stage === 'round1') {\n        stage = 'round 1';\n      } else if (game.stage === 'round2') {\n        stage = 'round 2';\n      } else {\n        stage = 'round 3';\n      }\n\n      // get the stored string, and make sure it exists\n      const storedString = localStorage.getItem('trivia-answers');\n      if (storedString) {\n        // make the array from the string\n        const savedAnswers = JSON.parse(storedString);\n        // make sure it has the right number of answers\n        if (savedAnswers && savedAnswers.length === answers.length) {\n          answers = savedAnswers;\n        }\n      }\n\n      this.setState({ answers, stage });\n    });\n\n    // listen for the round to end\n    this.dbRef.on('value', (snapshot) => {\n      const stage = snapshot.val().stage;\n      if (['round1-grading', 'round2-grading', 'round3-grading'].includes(stage)) {\n        // submit answers to db\n        this.firebase.setTeamAnswers(JSON.parse(localStorage.getItem('game')).name, this.round, this.state.answers);\n        // remove answers because we just submitted\n        localStorage.removeItem('trivia-answers');\n        this.props.history.push('/play/waiting');\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.dbRef.off('value');\n  }\n\n  changeAnswer(e, index) {\n    const answers = [...this.state.answers];\n    answers[index] = e.target.value;\n    this.setState({ answers }, () => {\n      // store our answers, have to stringify because localstorage can't store an array\n      localStorage.setItem('trivia-answers', JSON.stringify(answers));\n    });\n  }\n\n  render() {\n    return this.state.answers.length > 0 ? (\n      <div className={styles.container}>\n        <div className={styles.header}>\n          {this.state.stage}\n        </div>\n\n        {this.state.answers.map((a, index) => (\n          <div className={styles.answerContainer} key={index}>\n            {index === 11 ? (\n              <i className={classNames('fas fa-not-equal', styles.answerNum)} />\n            ) : index === 10 ? (\n              <i className={classNames('fas fa-star', styles.answerNum)} />\n            ) : (\n              <div className={styles.answerNum}>\n                {index + 1}\n              </div>\n            )}\n\n            <TextInput\n              placeholder=\"answer\"\n              value={a}\n              onChange={(e) => this.changeAnswer(e, index)}\n              width={isMobile ? '80%' : '50%'}\n            />\n          </div>\n        ))}\n      </div>\n    ) : null;\n  }\n}\n\nAnswerPage.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(AnswerPage));\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport { getPlaceText } from '../../../tools/helpers';\n\nclass StandingPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      place: 1,\n      score: 0,\n      diff: 0,\n      diffTeam: '',\n      tied: false,\n      stage: '',\n    };\n\n    this.firebase = props.firebase;\n    this.dbRef = this.firebase.getLiveGameRef();\n  }\n\n  componentDidMount() {\n    this.firebase.getGame((res) => {\n      if (!res.success) return;\n      const game = res.data;\n      // create a standings array\n      const standings = Object.entries(game.teams).map(([name, data]) => ({\n        name,\n        score: data.score,\n        place: 1,\n      }));\n\n      // sort the array by score\n      standings.sort((a, b) => (b.score - a.score));\n\n      // set the places, including ties\n      let currentPlace = 1;\n      for (let i = 1; i < standings.length; i++) {\n        if (standings[i].score < standings[i - 1].score) {\n          currentPlace += 1;\n        }\n        standings[i].place = currentPlace;\n      }\n\n      // once we know the standings, get the user's index in the standings\n      const index = standings.map((s) => (s.name)).indexOf(JSON.parse(localStorage.getItem('game')).name);\n\n      // from this get their place and score\n      const place = standings[index].place;\n      const score = standings[index].score;\n\n      // we now want to find how far ahead (if in 1st) or behind (otherwise) they are\n      // also track what team we are ahead of or behind\n      let diff = 0;\n      let diffTeam = '';\n      let counter = index;\n      // we'll break out of it ourselves because we want to check after changing counter\n      while (true) {\n        // if in 1st, count backwards, otherwise count towards 1st\n        if (place === 1) {\n          counter += 1;\n        } else {\n          counter -= 1;\n        }\n\n        // if everyone is tied or only 1 team, just don't show diff\n        // true because out of bounds for standings indices\n        if (counter < 0 || counter >= standings.length) {\n          diff = 0;\n          break;\n        }\n\n        // if the score is different, find out what the difference is and with who\n        if (standings[counter].score !== score) {\n          diff = Math.abs(standings[counter].score - score);\n          diffTeam = standings[counter].name;\n          break;\n        }\n      }\n\n      // display the user's standing\n      // stage will either be standings or final standings\n      this.setState({\n        place,\n        score,\n        diff,\n        diffTeam,\n        // if someone else shares the place with us, we're tied\n        tied: standings.filter((s) => (s.place === place)).length > 1,\n        stage: game.stage === 'finished' ? 'finished' : game.stage.split('-')[1],\n      });\n    });\n\n    // listen for a round to start, then go to answer page when it does\n    this.dbRef.on('value', (snapshot) => {\n      const stage = snapshot.val().stage;\n      if (['round2', 'round3'].includes(stage)) {\n        this.props.history.push('/play/answer');\n      } else if (stage === 'finished') {\n        this.setState({ stage: 'finished' });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // stop listening so we don't try to update this page when we're not here\n    this.dbRef.off('value');\n  }\n\n  render() {\n    return this.state.stage ? this.state.stage !== 'final standings' ? (\n      <div className={styles.container}>\n        <div className={styles.placeText}>\n          {`${this.state.stage === 'finished' ? 'you finished' : \"you're\"} ${this.state.tied ? 'tied for' : 'in'} ${this.state.place}${getPlaceText(this.state.place)} place with ${this.state.score} ${this.state.score === 1 ? 'correct' : 'corrects'}`}\n        </div>\n        <div className={styles.descText}>\n          {this.state.diff === 0 ? 'tied with everyone else' : `${this.state.diff} ${this.state.diff === 1 ? 'correct' : 'corrects'} ${this.state.place === 1 ? 'ahead of' : 'behind'} ${this.state.diffTeam}`}\n        </div>\n      </div>\n    ) : (\n      <div className={styles.container}>\n        <div className={styles.placeText}>\n          the host has the final standings\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\nStandingPage.propTypes = {\n  history: PropTypes.object,\n  firebase: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(StandingPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.css';\n\nconst Loader = ({ margin }) => {\n  return (\n    <div className={styles.holder} style={{ margin }}>\n      <div className={styles.bounce1} />\n      <div className={styles.bounce2} />\n      <div className={styles.bounce3} />\n    </div>\n  );\n};\n\nLoader.propTypes = {\n  margin: PropTypes.string,\n};\n\nexport default Loader;\n","import React from 'react';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport jwt from 'jsonwebtoken';\nimport { isMobile } from 'react-device-detect';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport TextInput from '../../../components/TextInput';\nimport Loader from '../../../components/Loader';\nimport { isAuth } from '../../../tools/helpers';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      error: '',\n      loading: false,\n      loggedIn: false,\n    };\n\n    this.firebase = props.firebase;\n    this.onLogin = this.onLogin.bind(this);\n  }\n\n  componentDidMount() {\n    // if already logged in, go right to the dashboard\n    isAuth(localStorage.getItem('token'), (res) => {\n      this.setState({ loggedIn: res.success });\n    });\n  }\n\n  onLogin(e) {\n    // necessary because forms reload the page on submission by default\n    e.preventDefault();\n    // show the loading icon\n    this.setState({ loading: true });\n\n    // try to sign in with firebase\n    this.firebase.signInWithEmail(this.state.email, this.state.password, (res) => {\n      // if it works, give the user a signed jwt\n      // then send them to the dashboard\n      if (res.success) {\n        // expires in sets length of authentication in ms\n        // currently lasts 5 days\n        jwt.sign({ user: res.msg }, process.env.REACT_APP_JWT_SECRET, { expiresIn: 60 * 60 * 24 * 5 }, (error, token) => {\n          if (error) {\n            this.setState({ error });\n          } else {\n            localStorage.setItem('token', token);\n            this.props.history.push('/admin/dashboard');\n          }\n        });\n      } else {\n        // otherwise show the error, and make sure to stop loading\n        // the error goes away when the user changes their input\n        this.setState({\n          error: res.msg,\n          loading: false,\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.loggedIn) {\n      return <Redirect to=\"/admin/dashboard\" />\n    }\n\n    return (\n      <div className={styles.container}>\n        <form onSubmit={this.onLogin} className={styles.form}>\n          <div className={styles.header}>\n            login\n          </div>\n\n          <div className={styles.subheader}>\n            email\n          </div>\n          <TextInput\n            value={this.state.email}\n            onChange={(e) => this.setState({ email: e.target.value, error: '' })}\n            width=\"80%\"\n            autoFocus={!isMobile}\n          />\n\n          <div className={styles.subheader}>\n            password\n          </div>\n          <TextInput\n            value={this.state.password}\n            onChange={(e) => this.setState({ password: e.target.value, error: '' })}\n            width=\"80%\"\n            type=\"password\"\n          />\n\n          {this.state.loading ? (\n            <Loader margin=\"35px auto 25px auto\" />\n          ) : this.state.error ? (\n            <div className={styles.error}>\n              {this.state.error}\n            </div>\n          ) : (\n            <input\n              type=\"submit\"\n              value=\"let's go\"\n              className={styles.button}\n              tabIndex={0}\n            />\n          )}\n        </form>\n      </div>\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(LoginPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isMobile } from 'react-device-detect';\n\nimport styles from './styles.module.css';\nimport Loader from '../Loader';\nimport TextInput from '../TextInput';\n\nconst PopUp = ({ text, buttonOne, buttonTwo, loading, inputValue, inputChange, inputPlaceholder }) => {\n  return (\n    <div className={styles.modal}>\n      <div className={styles.container}>\n        <div className={styles.text}>\n          {text}\n        </div>\n\n        {loading ? (\n          <Loader margin=\"30px auto 25px auto\" />\n        ) : (\n          <div className={styles.bottomHolder}>\n            {inputValue !== undefined ? (\n              <TextInput\n                placeholder={inputPlaceholder}\n                onChange={inputChange}\n                value={inputValue}\n                autoFocus={!isMobile}\n                width=\"80%\"\n              />\n            ) : null}\n\n            <div className={styles.buttonContainer}>\n              <div className={styles.button} role=\"button\" tabIndex={0} onClick={buttonOne.onClick}>\n                {buttonOne.text}\n              </div>\n\n              {buttonTwo ? (\n                <div className={styles.button} role=\"button\" tabIndex={0} onClick={buttonTwo.onClick}>\n                  {buttonTwo.text}\n                </div>\n              ) : null}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nPopUp.propTypes = {\n  text: PropTypes.string,\n  buttonOne: PropTypes.shape({\n    text: PropTypes.string,\n    onClick: PropTypes.func,\n  }),\n  buttonTwo: PropTypes.shape({\n    text: PropTypes.string,\n    onClick: PropTypes.func,\n  }),\n  loading: PropTypes.bool,\n  inputValue: PropTypes.string,\n  inputChange: PropTypes.func,\n  inputPlaceholder: PropTypes.string,\n};\n\nexport default PopUp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport classNames from 'classnames';\nimport ReactTooltip from 'react-tooltip';\nimport { isMobile } from 'react-device-detect';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport PopUp from '../../../components/PopUp';\n\nclass DashboardPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      quizzes: [],\n      creating: false,\n      createText: '',\n      loading: false,\n      deleteId: '',\n      isLiveGame: false,\n    };\n\n    this.firebase = props.firebase;\n\n    this.onCreate = this.onCreate.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.loadQuizzes = this.loadQuizzes.bind(this);\n    this.loadLiveGame = this.loadLiveGame.bind(this);\n    this.hostGame = this.hostGame.bind(this);\n  }\n\n  componentDidMount() {\n    // see if there is a live game we can reload\n    this.firebase.getGame((response) => {\n      if (response.success && response.data.stage !== 'finished') {\n        this.setState({ isLiveGame: true });\n      };\n    });\n    // get our created quizzes\n    this.loadQuizzes();\n  }\n\n  // creates a new quiz and opens the page to edit it\n  onCreate() {\n    this.setState({ loading: true });\n    this.firebase.createQuiz(this.state.createText, (id) => {\n      this.props.history.push(`/admin/edit/${id}`);\n    });\n  }\n\n  // deletes the quiz\n  onDelete() {\n    this.setState({ loading: true });\n    this.firebase.deleteQuiz(this.state.deleteId, () => {\n      this.setState({ loading: false, deleteId: '' });\n      this.loadQuizzes();\n    });\n  }\n\n  // gets the current quizzes from the database\n  loadQuizzes() {\n    this.firebase.getQuizzes((quizzes) => {\n      this.setState({ quizzes });\n    });\n  }\n\n  // hosts the current live game by going to a page based on the stage\n  loadLiveGame() {\n    this.firebase.getGame((response) => {\n      if (response.success) {\n        const stage = response.data.stage;\n        // make sure there is a stage, should always be there, but just to be safe\n        if (!stage) return;\n        // make sure game still isn't over\n        if (stage === 'finished') {\n          this.setState({ isLiveGame: false });\n          return;\n        }\n        // go to join page if we are still joining\n        if (stage === 'join') {\n          this.props.history.push('/host/join');\n          return;\n        }\n        // otherwise, the stage is separate by - with the info we need\n        const stageInfo = stage.split('-');\n        // if it is not split, then we are on the question phase\n        if (stageInfo.length === 1) {\n          this.props.history.push('/host/question/1');\n          return;\n        }\n        // otherwise, we are either grading or in the standing phase\n        if (stageInfo[1] === 'grading') {\n          this.props.history.push('/host/grading');\n        } else {\n          this.props.history.push('/host/standings');\n        }\n      }\n    });\n  }\n\n  hostGame(gameId) {\n    // refresh the realtime db with this new host\n    this.firebase.hostQuiz(gameId);\n    // go to the host page\n    this.props.history.push('/host/join');\n  }\n\n  render() {\n    return (\n      <div className={styles.container}>\n        <div className={styles.header}>\n          dashboard\n        </div>\n\n        <div\n          className={styles.createContainer}\n          role=\"button\"\n          tabIndex={0}\n          onClick={() => this.setState({ creating: true, createText: '' })}\n        >\n          <i className={classNames('fas fa-plus', styles.createIcon)} />\n          <div className={styles.createText}>\n            create new quiz\n          </div>\n        </div>\n\n        {this.state.isLiveGame ? (\n          <div\n            className={styles.liveGameButton}\n            role=\"button\"\n            tabIndex={0}\n            onClick={this.loadLiveGame}\n          >\n            <div className={styles.liveGameText}>\n              resume live game\n            </div>\n          </div>\n        ) : null}\n\n        <div className={styles.quizzesContainer}>\n          {this.state.quizzes.map((q) => (\n            <div className={styles.quizHolder} key={q.id}>\n              <div className={styles.quizContainer}>\n                {q.data.name}\n              </div>\n\n              <div className={styles.quizButtonContainer}>\n                {!isMobile ? <ReactTooltip place=\"top\" effect=\"solid\" className={styles.tooltip} /> : null}\n                <Link\n                  className={classNames('fas fa-pencil-alt', styles.quizButton)}\n                  data-tip=\"edit\"\n                  to={`/admin/edit/${q.id}`}\n                />\n                <i\n                  className={classNames('fas fa-play', styles.quizButton)}\n                  data-tip=\"host\"\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() => this.hostGame(q.id)}\n                />\n                <i\n                  className={classNames('fas fa-trash-alt', styles.quizButton)}\n                  data-tip=\"delete\"\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() => this.setState({ deleteId: q.id })}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {this.state.creating ? (\n          <PopUp\n            text=\"enter a title for the new quiz pls\"\n            buttonOne={{\n              text: 'create',\n              onClick: this.onCreate,\n            }}\n            buttonTwo={{\n              text: 'nvm',\n              onClick: () => this.setState({ creating: false }),\n            }}\n            loading={this.state.loading}\n            inputValue={this.state.createText}\n            inputChange={(e) => this.setState({ createText: e.target.value })}\n            inputPlaceholder=\"title\"\n          />\n        ) : this.state.deleteId ? (\n          <PopUp\n            text=\"do you really want to say goodbye to this quiz?\"\n            buttonOne={{\n              text: 'yeh',\n              onClick: this.onDelete,\n            }}\n            buttonTwo={{\n              text: 'nooo!',\n              onClick: () => this.setState({ deleteId: '' }),\n            }}\n            loading={this.state.loading}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nDashboardPage.propTypes = {\n  history: PropTypes.object,\n  firebase: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(DashboardPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport classNames from 'classnames';\nimport isImageUrl from 'is-image-url';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport TextInput from '../../../components/TextInput';\nimport Loader from '../../../components/Loader';\nimport PopUp from '../../../components/PopUp';\n\nclass EditPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      quiz: {},\n      redirect: false,\n      round: 'round1',\n      saving: false,\n      editTitle: false,\n      showImageModal: false,\n      imageUrl: '',\n      imageIndex: 0,\n      uploadingImage: false,\n      uploadError: false,\n    };\n\n    this.id = props.match.params.id;\n    this.firebase = props.firebase;\n\n    this.setValue = this.setValue.bind(this);\n    this.setTitle = this.setTitle.bind(this);\n    this.save = this.save.bind(this);\n    this.uploadImage = this.uploadImage.bind(this);\n    this.removeImage = this.removeImage.bind(this);\n  }\n\n  componentDidMount() {\n    this.firebase.getQuiz(this.id, (res) => {\n      if (!res.success) {\n        this.setState({ redirect: true });\n      } else {\n        this.setState({ quiz: res.data });\n      }\n    });\n  }\n\n  setValue(e, type, index) {\n    const quiz = JSON.parse(JSON.stringify(this.state.quiz));\n    const round = quiz[this.state.round];\n    if (type === 'q') {\n      round[index].questionText= e.target.value;\n    } else if (type === 'a') {\n      round[index].answer = e.target.value;\n    } else {\n      round[index].points = Math.max(e.target.value, 0);\n    }\n    this.setState({ quiz });\n  }\n\n  setTitle(e) {\n    const quiz = JSON.parse(JSON.stringify(this.state.quiz));\n    quiz.name = e.target.value;\n    this.setState({ quiz });\n  }\n\n  save(next) {\n    this.setState({ saving: true });\n    // our callback is actually to call the function here that will\n    // call this functions callback/next function\n    this.firebase.saveQuiz(this.id, this.state.quiz, () => next());\n  }\n\n  uploadImage() {\n    this.setState({ uploadingImage: true });\n    // make sure we are uploading an image to the game\n    if (!isImageUrl(this.state.imageUrl)) {\n      this.setState({ uploadingImage: false, uploadError: true });\n      return;\n    }\n    // upload the image\n    this.firebase.uploadImage(this.state.imageUrl, (url, id) => {\n      if (!url) {\n        this.setState({ uploadingImage: false, uploadError: true });\n        return;\n      }\n      // update our quiz with the image\n      const quiz = JSON.parse(JSON.stringify(this.state.quiz));\n      const round = quiz[this.state.round];\n      round[this.state.imageIndex].image = url;\n      round[this.state.imageIndex].imageId = id;\n      // we save immediately because we uploaded the image\n      this.setState({\n        quiz,\n        showImageModal: false,\n        uploadingImage: false,\n      }, () => this.save(() => this.setState({ saving: false, })));\n    });\n  }\n\n  removeImage(index) {\n    // get the quiz\n    const quiz = JSON.parse(JSON.stringify(this.state.quiz));\n    const round = quiz[this.state.round];\n    // delete the image from the database\n    this.firebase.removeImage(round[index].imageId);\n    // we don't need to wait, just remove the image from our quiz\n    round[index].image = '';\n    round[index].imageId = '';\n    // save immediately because we just delted it from storage\n    this.setState({ quiz, showImageModal: false }, () => this.save(() => this.setState({ saving: false })));\n  }\n\n  render() {\n    if (!this.id || this.state.redirect) {\n      return <Redirect to=\"/admin/dashboard\" />\n    }\n\n    return this.state.quiz.name !== undefined ? (\n      <div className={styles.container}>\n        <div className={styles.headerContainer}>\n          <div className={styles.header}>\n            {this.state.quiz.name}\n          </div>\n\n          {this.state.saving ? (\n            <div className={styles.buttonContainer}>\n              <Loader margin=\"auto\" />\n            </div>\n          ) : (\n            <div className={styles.buttonContainer}>\n              <div\n                className={styles.button}\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ editTitle: true })}\n              >\n                <i className={classNames('fas fa-pencil-alt', styles.buttonIcon)} />\n                <div className={styles.buttonText}>\n                  edit title\n                </div>\n              </div>\n\n              <div\n                className={styles.button}\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.save(() => this.setState({ saving: false }))}\n              >\n                <i className={classNames('fas fa-save', styles.buttonIcon)} />\n                <div className={styles.buttonText}>\n                  save\n                </div>\n              </div>\n\n              <div\n                className={styles.button}\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.save(() => this.props.history.push('/admin/dashboard'))}\n                style={{ marginRight: 0 }}\n              >\n                <i className={classNames('fas fa-running', styles.buttonIcon)} />\n                <div className={styles.buttonText}>\n                  {'save & exit'}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className={styles.roundContainer}>\n          <div\n            className={classNames(styles.round, { [styles.selected]: this.state.round === 'round1' })}\n            role=\"button\"\n            tabIndex={0}\n            onClick={() => this.setState({ round: 'round1' })}\n          >\n            round 1\n          </div>\n          <div\n            className={classNames(styles.round, { [styles.selected]: this.state.round === 'round2' })}\n            role=\"button\"\n            tabIndex={0}\n            onClick={() => this.setState({ round: 'round2' })}\n          >\n            round 2\n          </div>\n          <div\n            className={classNames(styles.round, { [styles.selected]: this.state.round === 'round3' })}\n            role=\"button\"\n            tabIndex={0}\n            onClick={() => this.setState({ round: 'round3' })}\n          >\n            round 3\n          </div>\n        </div>\n\n        {this.state.quiz[this.state.round].map((data, index) => (\n          <div className={styles.questionContainer} key={index}>\n            {index === 11 ? (\n              <i className={classNames('fas fa-not-equal', styles.questionNum)} />\n            ) : index === 10 ? (\n              <i className={classNames('fas fa-star', styles.questionNum)} />\n            ) : (\n              <div className={styles.questionNum}>\n                {index + 1}\n              </div>\n            )}\n\n            <div className={styles.inputsContainer}>\n              <div className={styles.inputContainer}>\n                <div className={styles.inputText}>\n                  q:\n                </div>\n                <TextInput\n                  placeholder=\"question\"\n                  value={this.state.quiz[this.state.round][index].questionText}\n                  onChange={(e) => this.setValue(e, 'q', index)}\n                  width=\"100%\"\n                />\n              </div>\n\n              <div className={styles.inputContainer}>\n                <div className={styles.inputText}>\n                  a:\n                </div>\n                <TextInput\n                  placeholder=\"answer\"\n                  value={this.state.quiz[this.state.round][index].answer}\n                  onChange={(e) => this.setValue(e, 'a', index)}\n                  width=\"100%\"\n                />\n              </div>\n            </div>\n\n            <div className={styles.centeredRow}>\n              <div className={styles.pointsContainer}>\n                <TextInput\n                  value={this.state.quiz[this.state.round][index].points}\n                  onChange={(e) => this.setValue(e, 'pts', index)}\n                  type=\"number\"\n                  width=\"100%\"\n                  customStyle={{\n                    fontSize: '34px',\n                    lineHeight: '34px',\n                    fontWeight: 'bold',\n                    textAlign: 'center',\n                  }}\n                />\n                <div className={styles.pointsText}>\n                  {this.state.quiz[this.state.round][index].points === 1 ? 'point' : 'points'}\n                </div>\n              </div>\n\n              <div className={styles.imageContainer}>\n                {this.state.quiz[this.state.round][index].image ? (\n                  <div className={styles.imageContainer}>\n                    <img src={this.state.quiz[this.state.round][index].image} alt=\"Question\" className={styles.image} />\n                    <i className={classNames(styles.deleteImage, 'fas fa-times')} role=\"button\" tabIndex={0} onClick={() => this.removeImage(index)} />\n                  </div>\n                ) : (\n                  <div\n                    className={styles.imageButton}\n                    role=\"button\"\n                    tabIndex={0}\n                    onClick={() => this.setState({ showImageModal: true, imageIndex: index, imageUrl: '' })}\n                  >\n                    <i className={classNames(styles.imageIcon, 'far fa-image')} />\n                    <div className={styles.imageText}>\n                      add image\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n\n        {this.state.editTitle ? (\n          <PopUp\n            text=\"fine, change the title...\"\n            buttonOne={{\n              text: 'cool',\n              onClick: () => this.save(() => this.setState({ saving: false, editTitle: false })),\n            }}\n            loading={this.state.saving}\n            inputValue={this.state.quiz.name}\n            inputChange={this.setTitle}\n            inputPlaceholder=\"title\"\n          />\n        ) : this.state.showImageModal ? (\n          <PopUp\n            text={this.state.uploadError ? \"we couldn't find the image at that url...\" : 'give me image url, now...'}\n            buttonOne={{\n              text: 'add',\n              onClick: this.uploadImage,\n            }}\n            buttonTwo={{\n              text: 'nvm',\n              onClick: () => this.setState({ showImageModal: false })\n            }}\n            loading={this.state.uploadingImage}\n            inputValue={this.state.imageUrl}\n            inputChange={(e) => this.setState({ imageUrl: e.target.value, uploadError: false, })}\n            inputPlaceholder=\"image url\"\n          />\n        ) : null}\n      </div>\n    ) : null;\n  }\n}\n\nEditPage.propTypes = {\n  match: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(EditPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport styles from './styles.module.css';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport DukeNiteLogo from '../../../assets/DukeNiteLogo.png';\n\nclass HostPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      teams: [],\n    };\n\n    this.firebase = props.firebase;\n    this.dbRef = this.firebase.getLiveGameRef();\n\n    this.start = this.start.bind(this);\n  }\n\n  componentDidMount() {\n    // listen for new teams to join\n    this.dbRef.on('value', (snapshot) => {\n      this.setState({ teams: snapshot.val().teams ? Object.keys(snapshot.val().teams) : [] });\n    });\n  }\n\n  componentWillUnmount() {\n    // stop listening so we don't try to update this page when we're not here\n    this.dbRef.off('value');\n  }\n\n  // tell everyone its the first round and show the first question\n  start() {\n    this.firebase.setStage('round1', () => {\n      this.props.history.push('/host/question/1');\n    });\n  }\n\n  render() {\n    return (\n      <div className={styles.container}>\n        <div className={styles.headerRow}>\n          <img src={DukeNiteLogo} alt=\"Duke@Nite\" className={styles.logo} />\n          <div className={styles.headerText}>\n            trivia night\n          </div>\n        </div>\n\n        <div className={styles.startButton} role=\"button\" tabIndex={0} onClick={this.start}>\n          start\n          <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n        </div>\n\n        <div className={styles.instructText}>\n          join at&nbsp;<u>duudevops.github.io/trivia</u>\n        </div>\n\n        <div className={styles.teamsContainer}>\n          {this.state.teams.map((t) => (\n            <div className={styles.team} key={t}>\n              {t}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nHostPage.propTypes = {\n  firebase: PropTypes.object,\n};\n\nexport default withFirebase(HostPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect, withRouter } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Textfit } from 'react-textfit';\n\nimport styles from './styles.module.css';\nimport DukeNiteLogo from '../../../assets/DukeNiteLogo.png';\nimport { withFirebase } from '../../../components/Firebase/firebase';\n\nclass HostQuestionPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      qnum: parseInt(props.match.params.qnum),\n      roundNum: 1,\n      question: {},\n      questions: [],\n    };\n\n    this.firebase = props.firebase;\n\n    this.stage = '';\n\n    this.endRound = this.endRound.bind(this);\n  }\n\n  componentDidMount() {\n    // get the questions from the realtime db\n    // we'll use these questions for the whole round because this page\n    // will never fully reload\n    this.firebase.getGame((res) => {\n      if (!res.success) return;\n      const game = res.data;\n      // filter out the bonus if it doesn't exist\n      const questions = game[game.stage].filter((question) => (question.questionText !== ''));\n      // redirect if invalid question number\n      if (!this.state.qnum || this.state.qnum > questions.length) {\n        this.props.history.push('/admin/dashboard');\n        return;\n      };\n      // for ending the round later\n      this.stage = game.stage;\n      this.setState({\n        question: questions[this.state.qnum - 1],\n        questions,\n        roundNum: game.stage.substring(game.stage.length - 1, game.stage.length),\n      });\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    // if the qnum changes, change the question\n    // we do this because the page will not automatically rerender when qnum changes\n    const newQnum = parseInt(nextProps.match.params.qnum);\n    if (newQnum !== prevState.qnum) {\n      return {\n        qnum: newQnum,\n        question: prevState.questions[newQnum - 1],\n      };\n    } else {\n      return prevState;\n    }\n  }\n\n  endRound() {\n    this.firebase.setStage(`${this.stage}-grading`, () => {\n      this.props.history.push('/host/grading');\n    });\n  }\n\n  render() {\n    if (!this.state.qnum) {\n      return <Redirect to=\"/admin/login\" />;\n    }\n\n    return this.state.questions.length > 0 ? (\n      <div className={styles.container}>\n        <img src={DukeNiteLogo} alt=\"Duke@Nite Logo\" className={styles.logo} draggable={false} />\n        <div className={styles.header}>\n          {`round ${this.state.roundNum}: `}\n          {this.state.qnum === 12 ? 'tiebreaker' : this.state.qnum === 11 ? 'bonus question' : `question ${this.state.qnum}`}\n        </div>\n\n        <div className={styles.questionContainer}>\n          {this.state.question.image? (\n            <img src={this.state.question.image} alt=\"Question\" className={styles.questionImage} draggable={false} />\n          ) : null}\n\n          {this.state.question.questionText ? (\n            <Textfit\n              className={styles.questionText}\n              style={{ width: this.state.question.image ? '48vw' : '80vw', height: this.state.question.image ? '70vh' : '60vh' }}\n              mode=\"multi\"\n              max={70}\n            >\n              {this.state.question.questionText}\n            </Textfit>\n          ) : null}\n        </div>\n\n        {this.state.qnum === this.state.questions.length ? (\n          <div className={styles.nextButton} role=\"button\" tabIndex={0} onClick={this.endRound} style={{ right: '3vw', bottom: '3vh' }}>\n            end round\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n        ) : (\n          <Link className={styles.nextButton} to={`/host/question/${this.state.qnum + 1}`} style={{ right: '3vw', bottom: '3vh' }}>\n            next\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </Link>\n        )}\n\n        {this.state.qnum !== 1 ? (\n          <Link\n            className={styles.nextButton}\n            to={`/host/question/${this.state.qnum - 1}`}\n            style={{ left: '3vw', bottom: '3vh' }}\n          >\n            <i className={classNames('fas fa-arrow-left', styles.arrow)} />\n            back\n          </Link>\n        ) : null}\n      </div>\n    ) : null;\n  }\n}\n\nHostQuestionPage.propTypes = {\n  match: PropTypes.object,\n  firebase: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(HostQuestionPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport TextInput from '../../../components/TextInput';\nimport styles from './styles.module.css';\n\nconst FIRST_ELEMENT_ID = 'id0';\n\nclass GradingPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      questions: [],\n      teams: {},\n      teamNames: [],\n      currentTeamNum: -1,\n      teamCorrects: [],\n      round: '',\n      showQuestion: -1,\n    };\n\n    this.firebase = props.firebase;\n\n    this.currentRoundTeamScores = [];\n\n    this.changeGrade = this.changeGrade.bind(this);\n    this.prevTeam = this.prevTeam.bind(this);\n    this.nextTeam = this.nextTeam.bind(this);\n    this.updateTeamScore = this.updateTeamScore.bind(this);\n  }\n\n  componentDidMount() {\n    // give time for clients' answers to get submitted\n    this.timeout = setTimeout(() => {\n      // get the round, questions, and teams to grade\n      this.firebase.getGame((res) => {\n        if (!res.success) return;\n        const game = res.data;\n        // get the round from stage, ex. round1-grading => round1\n        const round = game.stage.split('-')[0];\n        this.setState({\n          // filter out missing bonus question and always tiebreaker\n          questions: game[round].filter((question, index) => (question.questionText !== '' && index !== 11)),\n          teams: game.teams,\n          teamNames: Object.keys(game.teams),\n          currentTeamNum: 0,\n          // 11 false in case of bonus, only will display ten if no, and last false will not matter\n          teamCorrects: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n          round,\n        }, () => {\n          console.log(this.state.teams);\n          // select the first input after each question\n          const input = document.getElementById('id0');\n          setTimeout(() => {\n            input.select();\n          }, 0);\n        });\n      });\n    }, 2000);\n  }\n\n  // just saving this because it might be better than that derived state thing on question page\n  // componentDidUpdate(prevProps) {\n  //   if (prevProps.match.params.team === this.props.match.params.team) {\n  //     return;\n  //   }\n\n  //   this.setState({\n  //     corrects: [false, false, false, false, false, false, false, false, false, false]\n  //   });\n  // }\n\n  componentWillUnmount() {\n    // have to clear every timeout we use just in case it doesn't finish\n    clearTimeout(this.timeout);\n  }\n\n  // points values in val\n  changeGrade(i, val) {\n    const teamCorrects = [...this.state.teamCorrects];\n    teamCorrects[i] = val;\n    this.setState({ teamCorrects });\n  }\n\n  updateTeamScore(teamName) {\n    const teams = JSON.parse(JSON.stringify(this.state.teams));\n    teams[teamName].questionScores = this.state.teamCorrects;\n    return teams;\n  }\n\n  prevTeam(e) {\n    e.preventDefault();\n\n    // select the first text box\n    setTimeout(() => {\n      document.getElementById(FIRST_ELEMENT_ID).select();\n    }, 0);\n\n    // save the current team score\n    const updatedTeams = this.updateTeamScore(this.state.teamNames[this.state.currentTeamNum]);\n    const prevTeamNum = this.state.currentTeamNum - 1;\n    const prevTeamName = this.state.teamNames[prevTeamNum];\n\n    const prevTeamScores = updatedTeams[prevTeamName].questionScores;\n\n    this.setState({\n      teamCorrects: prevTeamScores,\n      currentTeamNum: prevTeamNum,\n      teams: updatedTeams,\n    });\n  }\n\n  nextTeam(e) {\n    e.preventDefault();\n\n    const updatedTeams = this.updateTeamScore(this.state.teamNames[this.state.currentTeamNum]);\n    const nextTeamNum = this.state.currentTeamNum + 1;\n    // keep repeating if we have teams left\n    if (nextTeamNum < this.state.teamNames.length) {\n      // select the first input after each question\n      const input = document.getElementById(FIRST_ELEMENT_ID);\n      setTimeout(() => {\n        input.select();\n      }, 0);\n\n      // it is possible that we went back and now we are going forward again, so check if we have\n      // already graded some questions\n      const nextTeamName = this.state.teamNames[nextTeamNum];\n      const nextTeamCorrects = updatedTeams[nextTeamName].questionScores || [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n      this.setState({\n        teamCorrects: nextTeamCorrects,\n        currentTeamNum: nextTeamNum,\n        teams: updatedTeams\n      }, () => window.scrollTo(0, 0));\n    } else {\n      // otherwise save the scores\n      for (let i = 0; i < this.state.teamNames.length; i++) {\n        const name = this.state.teamNames[i];\n        // add to the current score if possible\n        let score = updatedTeams[name].score || 0;\n        score += updatedTeams[name].questionScores.reduce((accumulator, currentValue) => (accumulator + currentValue));\n        // remove question scores after we have graded them\n        delete updatedTeams[name].questionScores;\n        updatedTeams[name].score = score;\n      }\n\n      // check for a tiebreaker after round 3\n      if (this.state.round === 'round3') {\n        // see if teams are tied\n        let isTie = false;\n        let maxScore = 0;\n        // go through each team, if new max score there is no tie\n        // if someone ties the max score, there is a tie (until max score is beaten again)\n        Object.values(updatedTeams).forEach((teamData) => {\n          if (teamData.score > maxScore) {\n            isTie = false;\n            maxScore = teamData.score;\n          } else if (teamData.score === maxScore) {\n            isTie = true;\n          }\n        });\n        // if there is a tie, keep the same round, update the teams, and go to tiebreaker page\n        if (isTie) {\n          this.firebase.setStandings(updatedTeams, 'round3-grading', () => {\n            this.props.history.push('/host/tiebreaker');\n          });\n          // return stops us from going to standings below\n          return;\n        }\n      }\n\n      // after setting standings, then go to the leaderboard/standings page\n      // callback makes sure standings are set before we try to show them\n      this.firebase.setStandings(updatedTeams, this.state.round, () => {\n        this.props.history.push('/host/standings');\n      });\n    }\n  }\n\n  render() {\n    // TODO: mobile styling support\n\n    return this.state.questions.length > 0 ? (\n      <div className={styles.container}>\n        <div className={styles.header}>\n          {`team: ${this.state.teamNames[this.state.currentTeamNum]}`}\n        </div>\n\n        <div className={styles.headerContainer}>\n          <div className={styles.subheader}>\n            actual answer\n          </div>\n          <div className={styles.subheader}>\n            team answer\n          </div>\n        </div>\n\n        <form onSubmit={this.nextTeam}>\n          <div className={styles.gradingContainer}>\n            <div className={styles.divider} />\n\n            {this.state.questions.map((q, i) => (\n              <div key={i}>\n                <div className={styles.gradeContainer}>\n                  <div className={styles.showButton} role=\"button\" tabIndex={1} onClick={() => this.setState({ showQuestion: i })}>\n                    <i className={classNames(styles.questionIcon, 'fas fa-question')} />\n                    <div className={styles.viewText}>\n                      View\n                    </div>\n                  </div>\n\n                  <div className={styles.answer}>\n                    {q.answer}\n                  </div>\n                  <div className={styles.answer} style={{ marginLeft: '5vw' }}>\n                    {this.state.teams[this.state.teamNames[this.state.currentTeamNum]][this.state.round]\n                      && this.state.teams[this.state.teamNames[this.state.currentTeamNum]][this.state.round][i]\n                        ? this.state.teams[this.state.teamNames[this.state.currentTeamNum]][this.state.round][i] : 'no answer'}\n                  </div>\n\n                  <div className={styles.pointsContainer}>\n                    <TextInput\n                      value={this.state.teamCorrects[i]}\n                      onChange={(e) => this.changeGrade(i, Math.min(e.target.value, q.points))}\n                      type=\"number\"\n                      width=\"6vw\"\n                      id={`id${i}`}\n                      customStyle={{\n                        fontSize: '3vw',\n                        lineHeight: '3vw',\n                        fontWeight: 'bold',\n                        textAlign: 'center',\n                      }}\n                    />\n                    <div className={styles.pointsText}>\n                      {`/ ${q.points}`}\n                    </div>\n                  </div>\n                </div>\n\n                <div className={styles.divider} />\n              </div>\n            ))}\n          </div>\n\n          {this.state.currentTeamNum > 0 ? (\n            <div\n              className={styles.nextButton}\n              role=\"button\"\n              tabIndex={1}\n              onClick={this.prevTeam}\n              style={{ left: '3vw', bottom: '3vh' }}\n            >\n              <i className={classNames('fas fa-arrow-left', styles.arrow)} />\n              back\n            </div>\n          ) : null}\n\n          <div\n            className={styles.nextButton}\n            role=\"button\"\n            tabIndex={0}\n            onClick={this.nextTeam}\n            style={{ right: '3vw', bottom: '3vh' }}\n          >\n            {this.state.currentTeamNum + 1 < this.state.teamNames.length ? 'next' : 'standings'}\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n          <input type=\"submit\" style={{ opacity: 0, display: 'none' }} />\n        </form>\n\n        {this.state.showQuestion !== -1 ? (\n          <div className={styles.modal}>\n            <div className={styles.popUp}>\n              {this.state.questions[this.state.showQuestion].image ? (\n                <img src={this.state.questions[this.state.showQuestion].image} alt=\"Question\" className={styles.showImage} />\n              ) : null}\n              <div className={styles.showText}>\n                {this.state.questions[this.state.showQuestion].questionText}\n              </div>\n              <i className={classNames('fas fa-times', styles.closeIcon)} role=\"button\" tabIndex={0} onClick={() => this.setState({ showQuestion: -1 })} />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null;\n  }\n}\n\nGradingPage.propTypes = {\n  match: PropTypes.object,\n  firebase: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(GradingPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Textfit } from 'react-textfit';\nimport classNames from 'classnames';\nimport ReactTooltip from 'react-tooltip';\n\nimport styles from './styles.module.css';\nimport DukeNiteLogo from '../../../assets/DukeNiteLogo.png';\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport { getIdsText } from '../../../tools/helpers';\n\nclass StandingsPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      standings: [],\n      stage: '',\n      numberToReveal: 0,\n    };\n\n    this.firebase = props.firebase;\n    this.round = '';\n\n    this.nextRound = this.nextRound.bind(this);\n    this.reveal = this.reveal.bind(this);\n  }\n\n  componentDidMount() {\n    this.firebase.getGame((res) => {\n      if (!res.success || !res.data) return;\n      const game = res.data;\n      // create a standings array\n      const standings = Object.entries(game.teams).map(([name, data]) => ({\n        name,\n        score: data.score,\n        ids: data.ids,\n        place: 1,\n      }));\n\n      // sort the array by score\n      standings.sort((a, b) => (b.score - a.score));\n\n      // set the places, including ties\n      let place = 1;\n      for (let i = 1; i < standings.length; i++) {\n        if (standings[i].score < standings[i - 1].score) {\n          place += 1;\n        }\n        standings[i].place = place;\n      }\n\n      // display the standings\n      // this.state.stage will either be standings or final standings\n      // this.round is used to start next round\n      // if game is over, we can pretend to reveal standings again\n      const stage = game.stage === 'finished' ? 'round3-final standings'.split('-') : game.stage.split('-');\n      this.round = stage[0];\n      this.setState({\n        standings,\n        stage: stage[1],\n        // revealing top 5 at max\n        numberToReveal: Math.min(5, standings.length),\n      });\n    });\n  }\n\n  nextRound() {\n    this.firebase.setStage(`round${parseInt(this.round.slice(-1)) + 1}`, () => {\n      this.props.history.push('/host/question/1');\n    });\n  }\n\n  reveal() {\n    this.setState({ numberToReveal: this.state.numberToReveal - 1 }, () => {\n      if (this.state.numberToReveal <= 0) {\n        this.firebase.setStage('finished');\n      }\n    });\n  }\n\n  render() {\n    // not really supported on mobile\n\n    return this.state.stage ? (\n      <div className={styles.container}>\n        <div className={styles.headerRow}>\n          <div className={styles.headerText}>\n            {this.state.stage}\n          </div>\n          <img src={DukeNiteLogo} alt=\"Duke@Nite\" className={styles.headerLogo} />\n        </div>\n\n        <div className={styles.divider} style={{ width: '60vw' }} />\n\n        {this.state.stage !== 'final standings' ? (\n          <div className={styles.nextButton} role=\"button\" tabIndex={0} onClick={this.nextRound}>\n            next round\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n        ) : this.state.numberToReveal > 0 ? (\n          <div\n            className={styles.nextButton}\n            role=\"button\"\n            tabIndex={0}\n            onClick={this.reveal}\n          >\n            reveal next\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n        ) : null}\n\n        {this.state.standings.filter((s, i) => (i < 5)).map((s, i) => (\n          <div\n            className={styles.standingsHolder}\n            key={s.name}\n            style={{\n              marginBottom: i !== this.state.standings.length - 1 ? 0 : 'auto',\n              opacity: this.state.stage !== 'final standings' || this.state.numberToReveal <= i ? 1 : 0,\n            }}\n          >\n            <ReactTooltip place=\"top\" effect=\"solid\" className={styles.tooltip} />\n            <div className={styles.standingContainer} data-tip={getIdsText(s.ids)}>\n              <div className={styles.placeText}>\n                {s.place}\n              </div>\n\n              <Textfit className={styles.nameText} mode=\"single\" forceSingleModeWidth={false} max={32}>\n                {s.name}\n              </Textfit>\n\n              <div className={styles.scoreText}>\n                {s.score}\n              </div>\n            </div>\n\n            {i !== this.state.standings.length - 1 ? (\n              <div className={styles.divider} />\n            ) : null}\n          </div>\n        ))}\n      </div>\n    ) : null;\n  }\n}\n\nStandingsPage.propTypes = {\n  firebase: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(StandingsPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { withFirebase } from '../../../components/Firebase/firebase';\nimport TextInput from '../../../components/TextInput';\nimport styles from '../GradingPage/styles.module.css';\n\nconst FIRST_ELEMENT_ID = 'id0';\n\nclass GradingPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      question: {},\n      teams: {},\n      teamNames: [],\n      currentTeamNum: -1,\n      teamCorrects: [],\n      showQuestion: false,\n    };\n\n    this.firebase = props.firebase;\n\n    this.currentRoundTeamScores = [];\n\n    this.changeGrade = this.changeGrade.bind(this);\n    this.prevTeam = this.prevTeam.bind(this);\n    this.nextTeam = this.nextTeam.bind(this);\n    this.updateTeamScore = this.updateTeamScore.bind(this);\n  }\n\n  componentDidMount() {\n    // so for ease of use, we are just using the grading page code as much as possible\n\n    // give time for clients' answers to get submitted\n    this.timeout = setTimeout(() => {\n      // get the teams that are tied and their answers\n      this.firebase.getGame((res) => {\n        if (!res.success) return;\n        const game = res.data;\n\n        const allTeams = game.teams;\n        let tiedTeams = {};\n        let maxScore = 0;\n        // get the teams that are in the tie\n        // that is, they all have the same score, which is greater than all other teams' scores\n        Object.entries(allTeams).forEach(([teamName, teamData]) => {\n          // if this team has a higher score, clear teams and start new object with this team\n          if (teamData.score > maxScore) {\n            tiedTeams = {};\n            tiedTeams[teamName] = teamData;\n            maxScore = teamData.score;\n          // if team has the same as the max score, add them to the tied teams object\n          } else if (teamData.score === maxScore) {\n            tiedTeams[teamName] = teamData;\n          }\n        });\n\n        // make sure we actually have a tie\n        if (Object.keys(tiedTeams).length <= 1) {\n          // if no tie, we can just show standings\n          this.firebase.setStandings(allTeams, 'round3', () => {\n            this.props.history.push('/host/standings');\n          });\n        }\n\n        this.setState({\n          // filter out no bonus\n          // the tiebreaker is from the second round, 12 question (12 - 1 = 11th index)\n          question: game.round2[11],\n          teams: tiedTeams,\n          teamNames: Object.keys(tiedTeams),\n          currentTeamNum: 0,\n          // just 1 correct for the tiebreaker\n          teamCorrects: [0],\n        }, () => {\n          // select the first input after each question\n          const input = document.getElementById('id0');\n          setTimeout(() => {\n            input.select();\n          }, 0);\n        });\n      });\n    }, 2000);\n  }\n\n  componentWillUnmount() {\n    // have to clear every timeout we use just in case it doesn't finish\n    clearTimeout(this.timeout);\n  }\n\n  // points values in val\n  changeGrade(i, val) {\n    const teamCorrects = [...this.state.teamCorrects];\n    teamCorrects[i] = val;\n    this.setState({ teamCorrects });\n  }\n\n  updateTeamScore(teamName) {\n    const teams = JSON.parse(JSON.stringify(this.state.teams));\n    teams[teamName].questionScores = this.state.teamCorrects;\n    return teams;\n  }\n\n  prevTeam(e) {\n    e.preventDefault();\n\n    // select the first text box\n    setTimeout(() => {\n      document.getElementById(FIRST_ELEMENT_ID).select();\n    }, 0);\n\n    // save the current team score\n    const updatedTeams = this.updateTeamScore(this.state.teamNames[this.state.currentTeamNum]);\n    const prevTeamNum = this.state.currentTeamNum - 1;\n    const prevTeamName = this.state.teamNames[prevTeamNum];\n\n    const prevTeamScores = updatedTeams[prevTeamName].questionScores;\n\n    this.setState({\n      teamCorrects: prevTeamScores,\n      currentTeamNum: prevTeamNum,\n      teams: updatedTeams\n    });\n  }\n\n  nextTeam(e) {\n    e.preventDefault();\n\n    const updatedTeams = this.updateTeamScore(this.state.teamNames[this.state.currentTeamNum]);\n\n    const nextTeamNum = this.state.currentTeamNum + 1;\n    // keep repeating if we have teams left\n    if (nextTeamNum < this.state.teamNames.length) {\n      // select the first input after each question\n      const input = document.getElementById(FIRST_ELEMENT_ID);\n      setTimeout(() => {\n        input.select();\n      }, 0);\n\n      // it is possible that we went back and now we are going forward again, so check if we have\n      // already graded some questions\n      const nextTeamName = this.state.teamNames[nextTeamNum];\n      const nextTeamCorrects = updatedTeams[nextTeamName].questionScores || [0];\n\n      this.setState({\n        teamCorrects: nextTeamCorrects,\n        currentTeamNum: nextTeamNum,\n        teams: updatedTeams\n      }, () => window.scrollTo(0, 0));\n    } else {\n      // otherwise save the scores\n      for (let i = 0; i < this.state.teamNames.length; i++) {\n        const name = this.state.teamNames[i];\n        // add to the current score if possible\n        let score = updatedTeams[name].score || 0;\n        score += updatedTeams[name].questionScores.reduce((accumulator, currentValue) => (accumulator + currentValue));\n        updatedTeams[name].score = score;\n      }\n\n      // after setting standings, then go to the leaderboard/standings page\n      // callback makes sure standings are set before we try to show them\n      this.firebase.setStandings(updatedTeams, 'round3', () => {\n        this.props.history.push('/host/standings');\n      });\n    }\n  }\n\n  render() {\n    // TODO: mobile styling support\n\n    return this.state.teamNames.length > 0 ? (\n      <div className={styles.container}>\n        <div className={styles.header}>\n          {`tie: ${this.state.teamNames[this.state.currentTeamNum]}`}\n        </div>\n\n        <div className={styles.headerContainer}>\n          <div className={styles.subheader}>\n            actual answer\n          </div>\n          <div className={styles.subheader}>\n            team answer\n          </div>\n        </div>\n\n        <form onSubmit={this.nextTeam}>\n          <div className={styles.gradingContainer}>\n            <div className={styles.divider} />\n\n            <div className={styles.gradeContainer}>\n              <div className={styles.showButton} role=\"button\" tabIndex={1} onClick={() => this.setState({ showQuestion: true })}>\n                <i className={classNames(styles.questionIcon, 'fas fa-question')} />\n                <div className={styles.viewText}>\n                  View\n                </div>\n              </div>\n\n              <div className={styles.answer}>\n                {this.state.question.answer}\n              </div>\n              <div className={styles.answer} style={{ marginLeft: '5vw' }}>\n                {this.state.teams[this.state.teamNames[this.state.currentTeamNum]].round2\n                  && this.state.teams[this.state.teamNames[this.state.currentTeamNum]].round2[11]\n                    ? this.state.teams[this.state.teamNames[this.state.currentTeamNum]].round2[11] : 'no answer'}\n              </div>\n\n              <div className={styles.pointsContainer}>\n                <TextInput\n                  value={this.state.teamCorrects[0]}\n                  onChange={(e) => this.changeGrade(0, Math.min(e.target.value, this.state.question.points))}\n                  type=\"number\"\n                  width=\"6vw\"\n                  id={`id${0}`}\n                  customStyle={{\n                    fontSize: '3vw',\n                    lineHeight: '3vw',\n                    fontWeight: 'bold',\n                    textAlign: 'center',\n                  }}\n                />\n                <div className={styles.pointsText}>\n                  {`/ ${this.state.question.points}`}\n                </div>\n              </div>\n            </div>\n\n            <div className={styles.divider} />\n          </div>\n\n          {this.state.currentTeamNum > 0 ? (\n            <div\n              className={styles.nextButton}\n              role=\"button\"\n              tabIndex={1}\n              onClick={this.prevTeam}\n              style={{ left: '3vw', bottom: '3vh' }}\n            >\n              <i className={classNames('fas fa-arrow-left', styles.arrow)} />\n              back\n            </div>\n          ) : null}\n\n          <div\n            className={styles.nextButton}\n            role=\"button\"\n            tabIndex={0}\n            onClick={this.nextTeam}\n            style={{ right: '3vw', bottom: '3vh' }}\n          >\n            {this.state.currentTeamNum + 1 < this.state.teamNames.length ? 'next' : 'standings'}\n            <i className={classNames('fas fa-arrow-right', styles.arrow)} />\n          </div>\n          <input type=\"submit\" style={{ opacity: 0, display: 'none' }} />\n        </form>\n\n        {this.state.showQuestion ? (\n          <div className={styles.modal}>\n            <div className={styles.popUp}>\n              {this.state.question.image ? (\n                <img src={this.state.question.image} alt=\"Question\" className={styles.showImage} />\n              ) : null}\n              <div className={styles.showText}>\n                {this.state.question.questionText}\n              </div>\n              <i className={classNames('fas fa-times', styles.closeIcon)} role=\"button\" tabIndex={0} onClick={() => this.setState({ showQuestion: false })} />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null;\n  }\n}\n\nGradingPage.propTypes = {\n  match: PropTypes.object,\n  firebase: PropTypes.object,\n  history: PropTypes.object,\n};\n\nexport default withRouter(withFirebase(GradingPage));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport Firebase, { FirebaseContext } from './components/Firebase/firebase';\nimport AdminRoute from './tools/AdminRoute';\nimport GameRoute from './tools/GameRoute';\n\nimport HomePage from './containers/HomePage';\nimport PlayPage from './containers/client/PlayPage';\nimport WaitingPage from './containers/client/WaitingPage';\nimport AnswerPage from './containers/client/AnswerPage';\nimport PlayStandingPage from './containers/client/StandingPage';\nimport LoginPage from './containers/admin/LoginPage';\nimport DashboardPage from './containers/admin/DashboardPage';\nimport EditPage from './containers/admin/EditPage';\nimport HostPage from './containers/admin/HostPage';\nimport HostQuestionPage from './containers/admin/HostQuestionPage';\nimport GradingPage from './containers/admin/GradingPage';\nimport HostStandingsPage from './containers/admin/StandingsPage';\nimport HostTiebreakerPage from './containers/admin/TiebreakerPage';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={HomePage} />\n        <Route exact path=\"/play\" component={PlayPage} />\n        <GameRoute exact path=\"/play/waiting\" component={WaitingPage} />\n        <GameRoute exact path=\"/play/answer\" component={AnswerPage} />\n        <GameRoute exact path=\"/play/standing\" component={PlayStandingPage} />\n        <Route exact path=\"/admin/login\" component={LoginPage} />\n        <AdminRoute exact path=\"/admin/dashboard\" component={DashboardPage} />\n        <AdminRoute exact path=\"/admin/edit/:id\" component={EditPage} />\n        <AdminRoute exact path=\"/host/join\" component={HostPage} />\n        <AdminRoute exact path=\"/host/question/:qnum\" component={HostQuestionPage} />\n        <AdminRoute exact path=\"/host/grading\" component={GradingPage} />\n        <AdminRoute exact path=\"/host/standings\" component={HostStandingsPage} />\n        <AdminRoute exact path=\"/host/tiebreaker\" component={HostTiebreakerPage} />\n        <Route component={HomePage} />\n      </Switch>\n    </BrowserRouter>\n  </FirebaseContext.Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Z2kR\",\"fadeIn\":\"styles_fadeIn__HjwPv\",\"placeText\":\"styles_placeText__3VZfZ\",\"descText\":\"styles_descText__3Gr_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__qhjOb\",\"headerContainer\":\"styles_headerContainer__1Fiem\",\"header\":\"styles_header__Vtao2\",\"buttonContainer\":\"styles_buttonContainer__3QA4Z\",\"button\":\"styles_button__3O0E0\",\"buttonIcon\":\"styles_buttonIcon__3VGcQ\",\"buttonText\":\"styles_buttonText__gSwKF\",\"roundContainer\":\"styles_roundContainer__3ZDbV\",\"round\":\"styles_round__g3cio\",\"selected\":\"styles_selected__1ENd6\",\"questionContainer\":\"styles_questionContainer__31Px4\",\"questionNum\":\"styles_questionNum__2k410\",\"inputsContainer\":\"styles_inputsContainer__2RZSq\",\"inputContainer\":\"styles_inputContainer__ssBno\",\"inputText\":\"styles_inputText__3IBUw\",\"centeredRow\":\"styles_centeredRow__2Blt3\",\"pointsContainer\":\"styles_pointsContainer__n6-d7\",\"pointsText\":\"styles_pointsText__PnDmw\",\"imageButton\":\"styles_imageButton__2qrWt\",\"imageIcon\":\"styles_imageIcon__1Q1H1\",\"imageText\":\"styles_imageText__22-z4\",\"imageContainer\":\"styles_imageContainer__12PEA\",\"image\":\"styles_image__CzzDz\",\"deleteImage\":\"styles_deleteImage__RvIPB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3yLd7\",\"text\":\"styles_text__rvx52\",\"excuseText\":\"styles_excuseText__1cqea\",\"noButton\":\"styles_noButton__2ARFM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"holder\":\"styles_holder__1im62\",\"bounce1\":\"styles_bounce1___BVxo\",\"bounce2\":\"styles_bounce2__1cygT\",\"bounce3\":\"styles_bounce3__2VPIn\",\"bounceDelay\":\"styles_bounceDelay__1QqtS\"};"],"sourceRoot":""}