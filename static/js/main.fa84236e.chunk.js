(this.webpackJsonptrivia=this.webpackJsonptrivia||[]).push([[0],{101:function(e,t,a){e.exports={container:"styles_container__3Z2kR",placeText:"styles_placeText__3VZfZ",descText:"styles_descText__3Gr_A"}},13:function(e,t,a){e.exports={container:"styles_container__3fmOw",header:"styles_header__16etK",nextButton:"styles_nextButton__2UA7U",arrow:"styles_arrow__3KfRU",headerContainer:"styles_headerContainer__2LCUg",subheader:"styles_subheader__3kMlB",gradingContainer:"styles_gradingContainer__3phHe",gradeContainer:"styles_gradeContainer__FhMLm",showButton:"styles_showButton__HKt2H",questionIcon:"styles_questionIcon__-BlJq",viewText:"styles_viewText__2u0H_",answer:"styles_answer__23Llh",pointsContainer:"styles_pointsContainer__1nStF",pointsText:"styles_pointsText__qyd6W",divider:"styles_divider__2renQ",modal:"styles_modal__1UmlW",popUp:"styles_popUp__IIsjh",showImage:"styles_showImage__3styT",showText:"styles_showText__38JKL",closeIcon:"styles_closeIcon__375wy"}},19:function(e,t,a){e.exports={container:"styles_container__2Gsp7",header:"styles_header__2VMbp",next:"styles_next__13gc7",noJoin:"styles_noJoin__1QhOc",errorText:"styles_errorText__2o_sS",arrow:"styles_arrow__9MoYa",section:"styles_section__2Kdy_",subheader:"styles_subheader__pHoVV",inputContainer:"styles_inputContainer__2nUOK",idRow:"styles_idRow__1X-NH",plus:"styles_plus__2y76E"}},20:function(e,t,a){e.exports={container:"styles_container__3UfNe",header:"styles_header__1WLkC",createContainer:"styles_createContainer__qAYDm",createIcon:"styles_createIcon__3qRoa",createText:"styles_createText__1NVii",liveGameButton:"styles_liveGameButton__3hTQb",liveGameText:"styles_liveGameText__1nT77",quizzesContainer:"styles_quizzesContainer__jTXkQ",quizHolder:"styles_quizHolder__e0XJf",quizContainer:"styles_quizContainer__1iojC",quizButtonContainer:"styles_quizButtonContainer__2zByQ",tooltip:"styles_tooltip__zFkMe",quizButton:"styles_quizButton__yI1Gc"}},22:function(e,t,a){e.exports={container:"styles_container__3lTrs",headerRow:"styles_headerRow__MiJ8j",headerText:"styles_headerText__3p0vd",headerLogo:"styles_headerLogo__217og",nextButton:"styles_nextButton__SYerh",arrow:"styles_arrow__dOaGy",standingsHolder:"styles_standingsHolder__2XH4Y",standingContainer:"styles_standingContainer__2KhXn",placeText:"styles_placeText__3dTXT",nameText:"styles_nameText__3kyKj",scoreText:"styles_scoreText__1EzMm",divider:"styles_divider__2bw6v",tooltip:"styles_tooltip__1WKz3"}},24:function(e,t,a){e.exports={container:"styles_container__2Pfgh",logo:"styles_logo__385PG",header:"styles_header__20tLf",questionContainer:"styles_questionContainer__1qrEh",questionText:"styles_questionText__3XhaJ",questionImage:"styles_questionImage__3gVwK",nextButton:"styles_nextButton__24E7p",arrow:"styles_arrow__1cgkW"}},249:function(e,t,a){e.exports={input:"styles_input__2gjR5"}},251:function(e,t,a){e.exports=a(550)},256:function(e,t,a){},295:function(e,t){},297:function(e,t){},328:function(e,t){},329:function(e,t){},35:function(e,t,a){e.exports={container:"styles_container__1rzFR",headerRow:"styles_headerRow__1Wabd",logo:"styles_logo__G8q3e",headerText:"styles_headerText__1NOiL",instructText:"styles_instructText__1DB3c",teamsContainer:"styles_teamsContainer__2d63P",team:"styles_team__33vZw",startButton:"styles_startButton__2vf_p",arrow:"styles_arrow__3B4Yu"}},4:function(e,t,a){e.exports={container:"styles_container__qhjOb",headerContainer:"styles_headerContainer__1Fiem",header:"styles_header__Vtao2",buttonContainer:"styles_buttonContainer__3QA4Z",button:"styles_button__3O0E0",buttonIcon:"styles_buttonIcon__3VGcQ",buttonText:"styles_buttonText__gSwKF",roundContainer:"styles_roundContainer__3ZDbV",round:"styles_round__g3cio",selected:"styles_selected__1ENd6",questionContainer:"styles_questionContainer__31Px4",questionNum:"styles_questionNum__2k410",inputsContainer:"styles_inputsContainer__2RZSq",inputContainer:"styles_inputContainer__ssBno",inputText:"styles_inputText__3IBUw",centeredRow:"styles_centeredRow__2Blt3",pointsContainer:"styles_pointsContainer__n6-d7",pointsText:"styles_pointsText__PnDmw",imageButton:"styles_imageButton__2qrWt",imageIcon:"styles_imageIcon__1Q1H1",imageText:"styles_imageText__22-z4",imageContainer:"styles_imageContainer__12PEA",image:"styles_image__CzzDz",deleteImage:"styles_deleteImage__RvIPB"}},41:function(e,t,a){e.exports=a.p+"static/media/DukeNiteLogo.b3375bd4.png"},43:function(e,t,a){e.exports={container:"styles_container__3do-n",logo:"styles_logo__pD3PO",textContainer:"styles_textContainer__3WpNc",header:"styles_header__Ar5HI",buttonContainer:"styles_buttonContainer__1X4ep",button:"styles_button__2xx59"}},44:function(e,t,a){e.exports={container:"styles_container__3AxTy",form:"styles_form__EpAMH",header:"styles_header__Ox5bv",subheader:"styles_subheader__2bniS",button:"styles_button__1aRaP",error:"styles_error__3008p"}},45:function(e,t,a){e.exports={modal:"styles_modal__2uwhm",container:"styles_container__3UtJn",text:"styles_text__1qdLN",bottomHolder:"styles_bottomHolder__gexfi",buttonContainer:"styles_buttonContainer__b14wl",button:"styles_button__3t6ZN"}},487:function(e,t){},489:function(e,t){},550:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(245),r=a.n(i),o=a(17),c=a(42);a(256),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(7),u=a(53),m=(a(257),a(259),a(74)),d=a.n(m),h={apiKey:"AIzaSyARGwqdebOb043X-pjG6b18iGkJ7LDRk68",authDomain:"duu-trivia-c9587.firebaseapp.com",databaseURL:"https://duu-trivia-c9587.firebaseio.com",projectId:"duu-trivia-c9587",storageBucket:"duu-trivia-c9587.appspot.com",messagingSenderId:"653573216029",appId:"1:653573216029:web:c9f655c0b7b000eddef3f4"},g=s.a.createContext(null),f=function(e){return function(t){return s.a.createElement(g.Consumer,null,(function(a){return s.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},v=function e(){var t=this;Object(l.a)(this,e),this.signInWithEmail=function(e,a,n){t.auth.signInWithEmailAndPassword(e,a).then((function(t){n({success:!0,msg:e})})).catch((function(e){n({success:!1,msg:e.message})}))},this.createQuiz=function(e,a){for(var n=[],s=0;s<11;s++)n.push({q:"",a:"",img:"",imgId:"",pts:1});var i={name:e,round1:n,round2:n,round3:n},r=t.quizzesRef.push();r.set(i).then((function(){return a(r.key)}))},this.deleteQuiz=function(e,a){t.quizzesRef.child(e).remove().then(a)},this.saveQuiz=function(e,a,n){t.quizzesRef.child(e).set(a).then(n)},this.getQuizzes=function(e){var a=[];t.quizzesRef.once("value").then((function(t){t.forEach((function(e){a.push({id:e.key,data:e.val()})})),e(a)})).catch((function(e){return console.error("Error getting documents",e)}))},this.getQuiz=function(e,a){t.quizzesRef.child(e).once("value").then((function(e){e.exists()?a({success:!0,data:e.val()}):a({success:!1})})).catch((function(e){console.error("Error getting document",e),a({success:!1})}))},this.hostQuiz=function(e){t.getQuiz(e,(function(a){a.data&&u.database().ref("currentGame").set({quizId:e,date:t.getCurrentFormattedDate(),stage:"join",round1:a.data.round1,round2:a.data.round2,round3:a.data.round3,teams:[]})}))},this.getGame=function(e){t.liveGameRef.once("value").then((function(t){e({success:!0,data:t.val()})})).catch((function(t){return e({success:!1})}))},this.joinGame=function(e,a,n){t.liveGameRef.once("value").then((function(t){var s=t.val().teams||{};s[e]={ids:a},u.database().ref("currentGame").child("teams").set(s),n({date:t.val().date,name:e})}))},this.inGame=function(e,a){t.liveGameRef.once("value").then((function(t){a(t.val().date===e)}))},this.setStage=function(e,a){t.liveGameRef.child("stage").set(e).then(a)},this.getLiveGameRef=function(){return u.database().ref("currentGame")},this.getQuizzesRef=function(){return u.database().ref("quizzes")},this.setTeamAnswers=function(e,a,n){t.liveGameRef.child("teams/".concat(e,"/").concat(a)).set(n)},this.removeTeam=function(e){t.liveGameRef.child("teams/".concat(e)).remove()},this.setStandings=function(e,a,n){t.liveGameRef.child("teams").set(e).then((function(){t.setStage("".concat(a,"-").concat("round3"===a?"final standings":"standings"),n)}))},this.uploadImage=function(e,t){d.a.uploader.upload(e,(function(e){t(e.secure_url,e.public_id)}))},this.removeImage=function(e){d.a.uploader.destroy(e)},this.getCurrentFormattedDate=function(){return(new Date).toISOString().slice(0,10)},u.initializeApp(h),this.auth=u.auth(),this.liveGameRef=this.getLiveGameRef(),this.quizzesRef=this.getQuizzesRef(),d.a.config({cloud_name:"db5gwfiow",api_key:"346544944152446",api_secret:Object({NODE_ENV:"production",PUBLIC_URL:"/trivia"}).REACT_APP_CLOUDINARY_API_SECRET})},b=a(100),_=a(9),p=a(11),y=a(10),E=a(5),N=a(12),x=a(96),w=a.n(x),C=function(e,t){w.a.verify(e,Object({NODE_ENV:"production",PUBLIC_URL:"/trivia"}).REACT_APP_JWT_SECRET,(function(e,a){t(e?{success:!1,data:e}:{success:!0,data:a})}))},O=["st","nd","rd","th"],j=function(e){var t=e[0];if(2===e.length)t+=" & ".concat(e[1]);else for(var a=1;a<e.length;a++)a===e.length-1?t+=", & ".concat(e[a]):t+=", ".concat(e[a]);return t},k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={haveAccess:!1,loaded:!1},a.checkAccess=a.checkAccess.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.checkAccess()}},{key:"checkAccess",value:function(){var e=this;C(localStorage.getItem("token"),(function(t){e.setState({haveAccess:t.success,loaded:!0})}))}},{key:"render",value:function(){var e=this;if(!this.state.loaded)return null;var t=this.props,a=t.component,n=Object(b.a)(t,["component"]);return s.a.createElement(c.b,Object.assign({},n,{render:function(t){return e.state.haveAccess?s.a.createElement(a,t):s.a.createElement(c.a,{to:"/admin/login"})}}))}}]),t}(s.a.Component),q=Object(c.g)(k),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={haveAccess:!1,loaded:!1},a.firebase=e.firebase,a.checkAccess=a.checkAccess.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.checkAccess()}},{key:"checkAccess",value:function(){var e=this,t=JSON.parse(localStorage.getItem("game"));t?this.firebase.inGame(t.date,(function(t){e.setState({haveAccess:t,loaded:!0})})):this.setState({haveAccess:!1,loaded:!0})}},{key:"render",value:function(){var e=this;if(!this.state.loaded)return null;var t=this.props,a=t.component,n=Object(b.a)(t,["component"]);return s.a.createElement(c.b,Object.assign({},n,{render:function(t){return e.state.haveAccess?s.a.createElement(a,t):s.a.createElement(c.a,{to:"/play"})}}))}}]),t}(s.a.Component),T=Object(c.g)(f(I)),S=a(41),z=a.n(S),R=a(43),G=a.n(R),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:G.a.container},s.a.createElement("img",{src:z.a,alt:"Duke@Nite Logo",className:G.a.logo,draggable:!1}),s.a.createElement("div",{className:G.a.textContainer},s.a.createElement("div",{className:G.a.header},"trivia night"),s.a.createElement("div",{className:G.a.buttonContainer},s.a.createElement(o.b,{className:G.a.button,to:"/play"},"play"),s.a.createElement(o.b,{className:G.a.button,to:"/admin/login"},"login"))))}}]),t}(s.a.Component),A=a(51),D=a(28),L=a(6),M=a.n(L),Q=a(19),J=a.n(Q),U=a(248),P=a(249),V=a.n(P),W=function(e){var t=e.placeholder,a=e.onChange,n=e.autoFocus,i=e.value,r=e.width,o=e.type,c=e.customStyle,l=e.id;return s.a.createElement("input",{className:V.a.input,style:Object(U.a)({width:"calc(".concat(r," - 20px)")},c),id:l,placeholder:t,onChange:a,type:o||"text",autoFocus:n?"autofocus":"",value:i})},H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={team:"",ids:[""],joinable:!1,error:"",dbExists:!0,currentTeam:""},a.firebase=e.firebase,a.dbRef=a.firebase.getLiveGameRef(),a.changeId=a.changeId.bind(Object(E.a)(a)),a.onJoin=a.onJoin.bind(Object(E.a)(a)),a.onRejoin=a.onRejoin.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getGame((function(t){t.success?e.setState({joinable:"round3-final standings"!==t.data.stage,dbExists:!0}):e.setState({dbExists:!1})})),this.dbRef.on("value",(function(t){t.exists()&&e.setState({joinable:"round3-final standings"!==t.val().stage})}));var t=JSON.parse(localStorage.getItem("game"));t&&this.firebase.inGame(t.date,(function(a){e.setState({currentTeam:a?t.name:""})}))}},{key:"componentWillUnmount",value:function(){this.dbRef.off("value")}},{key:"changeId",value:function(e,t){var a=Object(A.a)(this.state.ids);a[t]=e.target.value,this.setState({ids:a,error:""})}},{key:"onJoin",value:function(e){var t=this;e.preventDefault();var a="",n=this.state.ids.filter((function(e){return""!==e}));n[0]||(a="we need at least one net id"),this.state.team||(a="what's your team's name"),this.firebase.getGame((function(e){if(e.success){var s=e.data;(s.teams?Object.keys(s.teams):[]).includes(t.state.team)&&(a="team name already taken"),a?t.setState({error:a}):(t.state.currentTeam&&(t.firebase.removeTeam(t.state.currentTeam),localStorage.removeItem("game")),t.firebase.joinGame(t.state.team,n,(function(e){localStorage.setItem("game",JSON.stringify(e)),t.props.history.push("/play/waiting")})))}}))}},{key:"onRejoin",value:function(){var e=this,t=function(){localStorage.removeItem("game"),e.setState({currentTeam:""})},a=JSON.parse(localStorage.getItem("game"));a?this.firebase.inGame(a.date,(function(n){e.firebase.getGame((function(n){if(n.success){var s=n.data;(s.teams?Object.keys(s.teams):[]).includes(a.name)?e.props.history.push("/play/waiting"):t()}}))})):t()}},{key:"render",value:function(){var e=this;return this.state.dbExists?s.a.createElement("form",{onSubmit:this.onJoin,className:J.a.container},s.a.createElement("div",{className:J.a.header},"register your team"),s.a.createElement("div",{className:J.a.section},s.a.createElement("div",{className:J.a.subheader},"team name"),s.a.createElement("div",{className:J.a.inputContainer},s.a.createElement(W,{value:this.state.team,autoFocus:!D.isMobile,onChange:function(t){return e.setState({team:t.target.value.slice(0,35),error:""})},width:"80%"}))),s.a.createElement("div",{className:J.a.section},s.a.createElement("div",{className:J.a.subheader},"player netIDs"),s.a.createElement("div",{className:J.a.inputContainer},this.state.ids.map((function(t,a){return s.a.createElement("div",{className:J.a.idRow,key:a},s.a.createElement(W,{value:t,onChange:function(t){return e.changeId(t,a)},width:D.isMobile?"20vw":"9vw"}),a+1===e.state.ids.length?s.a.createElement("div",{className:M()(J.a.plus,"fas fa-plus"),role:"button",tabIndex:0,onClick:function(){return e.setState({ids:[].concat(Object(A.a)(e.state.ids),[""])})}}):null)})))),this.state.error?s.a.createElement("div",{className:J.a.errorText},this.state.error):this.state.joinable&&this.state.currentTeam&&!this.state.team?s.a.createElement("div",{className:J.a.next,role:"button",tabIndex:0,onClick:this.onRejoin},"rejoin as: ".concat(this.state.currentTeam),s.a.createElement("i",{className:M()("fas fa-arrow-right",J.a.arrow)})):this.state.joinable?s.a.createElement("div",{className:J.a.next,role:"button",tabIndex:0,onClick:this.onJoin},"join",s.a.createElement("i",{className:M()("fas fa-arrow-right",J.a.arrow)})):s.a.createElement("div",{className:J.a.noJoin},"no live game"),s.a.createElement("input",{type:"submit",style:{opacity:0,display:"none"}})):s.a.createElement(c.a,{to:"/"})}}]),t}(s.a.Component),F=Object(c.g)(f(H)),K=a(75),X=a.n(K),Z=["studying","baking cookies","looking for keys","charging airpods","making a sandwich","integrating","differentiating","taking a nap","reading","working out","titrating","getting lunch","getting dinner","procrastinating","not paying attention",'"studying"',"browsing amazon","tweeting","talking to mom","white water rafting","practicing piano","climbing rocks","tenting","bowling","certainly not texting and driving","updating apps","unsubscribing from newsletters","waiting for pasta","waiting for the c3","3d printing","listening to a podcast","stuck on a 30s ad","making flashcards","doing math hw","doing apts","lost in perkins","getting 8 hrs of sleep","still at marketplace","calling an uber","sending venmo requests","completing two-step verification","dropping a class","searching for classes","considering a new major","reloading flex","sending streaks","watching netflix","skipping an 8:30","doing laundry","browsing tinder","burning benches","still in a lab","taking a midterm","late again","writing the questions","readying cannons","counting down","entering warp drive","starting your engines","brushing off cobwebs","ordering pizza","learning spanish","learning french","learning chinese","learning japanese","learning german","learning sign language","hacking into the system","writing an essay","coding","playing fortnite","eating pi","waiting for brian","googling answers","applying filters","doing a barrel roll","making toast","mining cryptocurrency","definitly not crashing the site"],Y=function(){return(e=Z)[Math.floor(Math.random()*e.length)];var e},$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={excuse:Y()},a.firebase=e.firebase,a.dbRef=a.firebase.getLiveGameRef(),a.changeExcuse=a.changeExcuse.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(t){var a=t.val().stage;["round1","round2","round3"].includes(a)?e.props.history.push("/play/answer"):a.includes("-")&&a.split("-")[1].includes("standings")&&e.props.history.push("/play/standing")}))}},{key:"componentWillUnmount",value:function(){this.dbRef.off("value")}},{key:"changeExcuse",value:function(){this.setState({excuse:Y()})}},{key:"render",value:function(){return s.a.createElement("div",{className:X.a.container},s.a.createElement("div",{className:X.a.text},"waiting because the host is"),s.a.createElement("div",{className:X.a.excuseText},this.state.excuse),s.a.createElement("div",{className:X.a.noButton,role:"button",tabIndex:0,onClick:this.changeExcuse},"no"))}}]),t}(s.a.Component),ee=Object(c.g)(f($)),te=a(61),ae=a.n(te),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={answers:[],stage:""},a.firebase=e.firebase,a.dbRef=a.firebase.getLiveGameRef(),a.round="",a.changeAnswer=a.changeAnswer.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getGame((function(t){if(t.success){var a=t.data,n=10;e.round=a.stage,a[a.stage][10].q&&(n+=1);for(var s=[],i=0;i<n;i++)s.push("");var r="";r="round1"===a.stage?"round 1":"round2"===a.stage?"round 2":"round 3",e.setState({answers:s,stage:r})}})),this.dbRef.on("value",(function(t){var a=t.val().stage;["round1-grading","round2-grading","round3-grading"].includes(a)&&(e.firebase.setTeamAnswers(JSON.parse(localStorage.getItem("game")).name,e.round,e.state.answers),e.props.history.push("/play/waiting"))}))}},{key:"componentWillUnmount",value:function(){this.dbRef.off("value")}},{key:"changeAnswer",value:function(e,t){var a=Object(A.a)(this.state.answers);a[t]=e.target.value,this.setState({answers:a})}},{key:"render",value:function(){var e=this;return this.state.answers.length>0?s.a.createElement("div",{className:ae.a.container},s.a.createElement("div",{className:ae.a.header},this.state.stage),this.state.answers.map((function(t,a){return s.a.createElement("div",{className:ae.a.answerContainer,key:a},10===a?s.a.createElement("i",{className:M()("fas fa-star",ae.a.answerNum)}):s.a.createElement("div",{className:ae.a.answerNum},a+1),s.a.createElement(W,{placeholder:"answer",value:t,onChange:function(t){return e.changeAnswer(t,a)},width:D.isMobile?"80%":"50%"}))}))):null}}]),t}(s.a.Component),se=Object(c.g)(f(ne)),ie=a(99),re=a(101),oe=a.n(re),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={place:1,score:0,diff:0,diffTeam:"",tied:!1,stage:""},a.firebase=e.firebase,a.dbRef=a.firebase.getLiveGameRef(),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getGame((function(t){if(t.success){var a=t.data,n=Object.entries(a.teams).map((function(e){var t=Object(ie.a)(e,2);return{name:t[0],score:t[1].score,place:1}}));n.sort((function(e,t){return t.score-e.score}));for(var s=1,i=1;i<n.length;i++)n[i].score<n[i-1].score&&(s+=1),n[i].place=s;for(var r=n.map((function(e){return e.name})).indexOf(JSON.parse(localStorage.getItem("game")).name),o=n[r].place,c=n[r].score,l=0,u="",m=r;;){if(1===o?m+=1:m-=1,m<0||m>=n.length){l=0;break}if(n[m].score!==c){l=Math.abs(n[m].score-c),u=n[m].name;break}}e.setState({place:o,score:c,diff:l,diffTeam:u,tied:n.filter((function(e){return e.place===o})).length>1,stage:a.stage.split("-")[1]})}})),this.dbRef.on("value",(function(t){var a=t.val().stage;["round2","round3"].includes(a)&&e.props.history.push("/play/answer")}))}},{key:"componentWillUnmount",value:function(){this.dbRef.off("value")}},{key:"render",value:function(){return this.state.stage?s.a.createElement("div",{className:oe.a.container},s.a.createElement("div",{className:oe.a.placeText},"".concat("final standings"===this.state.stage?"you finished":"you're"," ").concat(this.state.tied?"tied for":"in"," ").concat(this.state.place).concat((e=this.state.place,e%100<11||e%100>13?e%10===1?O[0]:e%10===2?O[1]:e%10===3?O[2]:O[3]:O[3])," place with ").concat(this.state.score," ").concat(1===this.state.score?"correct":"corrects")),s.a.createElement("div",{className:oe.a.descText},0===this.state.diff?"tied with everyone else":"".concat(this.state.diff," ").concat(1===this.state.diff?"correct":"corrects"," ").concat(1===this.state.place?"ahead of":"behind"," ").concat(this.state.diffTeam))):null;var e}}]),t}(s.a.Component),le=Object(c.g)(f(ce)),ue=a(44),me=a.n(ue),de=a(76),he=a.n(de),ge=function(e){var t=e.margin;return s.a.createElement("div",{className:he.a.holder,style:{margin:t}},s.a.createElement("div",{className:he.a.bounce1}),s.a.createElement("div",{className:he.a.bounce2}),s.a.createElement("div",{className:he.a.bounce3}))},fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={email:"",password:"",error:"",loading:!1,loggedIn:!1},a.firebase=e.firebase,a.onLogin=a.onLogin.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;C(localStorage.getItem("token"),(function(t){e.setState({loggedIn:t.success})}))}},{key:"onLogin",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),this.firebase.signInWithEmail(this.state.email,this.state.password,(function(e){e.success?w.a.sign({user:e.msg},Object({NODE_ENV:"production",PUBLIC_URL:"/trivia"}).REACT_APP_JWT_SECRET,{expiresIn:432e3},(function(e,a){e?t.setState({error:e}):(localStorage.setItem("token",a),t.props.history.push("/admin/dashboard"))})):t.setState({error:e.msg,loading:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedIn?s.a.createElement(c.a,{to:"/admin/dashboard"}):s.a.createElement("div",{className:me.a.container},s.a.createElement("form",{onSubmit:this.onLogin,className:me.a.form},s.a.createElement("div",{className:me.a.header},"login"),s.a.createElement("div",{className:me.a.subheader},"email"),s.a.createElement(W,{value:this.state.email,onChange:function(t){return e.setState({email:t.target.value,error:""})},width:"80%",autoFocus:!D.isMobile}),s.a.createElement("div",{className:me.a.subheader},"password"),s.a.createElement(W,{value:this.state.password,onChange:function(t){return e.setState({password:t.target.value,error:""})},width:"80%",type:"password"}),this.state.loading?s.a.createElement(ge,{margin:"35px auto 25px auto"}):this.state.error?s.a.createElement("div",{className:me.a.error},this.state.error):s.a.createElement("input",{type:"submit",value:"let's go",className:me.a.button,tabIndex:0})))}}]),t}(s.a.Component),ve=Object(c.g)(f(fe)),be=a(97),_e=a.n(be),pe=a(20),ye=a.n(pe),Ee=a(45),Ne=a.n(Ee),xe=function(e){var t=e.text,a=e.buttonOne,n=e.buttonTwo,i=e.loading,r=e.inputValue,o=e.inputChange,c=e.inputPlaceholder;return s.a.createElement("div",{className:Ne.a.modal},s.a.createElement("div",{className:Ne.a.container},s.a.createElement("div",{className:Ne.a.text},t),i?s.a.createElement(ge,{margin:"30px auto 25px auto"}):s.a.createElement("div",{className:Ne.a.bottomHolder},void 0!==r?s.a.createElement(W,{placeholder:c,onChange:o,value:r,autoFocus:!D.isMobile,width:"80%"}):null,s.a.createElement("div",{className:Ne.a.buttonContainer},s.a.createElement("div",{className:Ne.a.button,role:"button",tabIndex:0,onClick:a.onClick},a.text),n?s.a.createElement("div",{className:Ne.a.button,role:"button",tabIndex:0,onClick:n.onClick},n.text):null))))},we=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={quizzes:[],creating:!1,createText:"",loading:!1,deleteId:"",isLiveGame:!1},a.firebase=e.firebase,a.onCreate=a.onCreate.bind(Object(E.a)(a)),a.onDelete=a.onDelete.bind(Object(E.a)(a)),a.loadQuizzes=a.loadQuizzes.bind(Object(E.a)(a)),a.loadLiveGame=a.loadLiveGame.bind(Object(E.a)(a)),a.hostGame=a.hostGame.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getGame((function(t){t.success&&"round3-final standings"!==t.data.stage&&e.setState({isLiveGame:!0})})),this.loadQuizzes()}},{key:"onCreate",value:function(){var e=this;this.setState({loading:!0}),this.firebase.createQuiz(this.state.createText,(function(t){e.props.history.push("/admin/edit/".concat(t))}))}},{key:"onDelete",value:function(){var e=this;this.setState({loading:!0}),this.firebase.deleteQuiz(this.state.deleteId,(function(){e.setState({loading:!1,deleteId:""}),e.loadQuizzes()}))}},{key:"loadQuizzes",value:function(){var e=this;this.firebase.getQuizzes((function(t){e.setState({quizzes:t})}))}},{key:"loadLiveGame",value:function(){var e=this;this.firebase.getGame((function(t){if(t.success){var a=t.data.stage;if(!a)return;if("round3-final standings"===a)return void e.setState({isLiveGame:!1});if("join"===a)return void e.props.history.push("/host/join");var n=a.split("-");if(1===n.length)return void e.props.history.push("/host/question/1");"grading"===n[1]?e.props.history.push("/host/grading"):e.props.history.push("/host/standings")}}))}},{key:"hostGame",value:function(e){this.firebase.hostQuiz(e),this.props.history.push("/host/join")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:ye.a.container},s.a.createElement("div",{className:ye.a.header},"dashboard"),s.a.createElement("div",{className:ye.a.createContainer,role:"button",tabIndex:0,onClick:function(){return e.setState({creating:!0,createText:""})}},s.a.createElement("i",{className:M()("fas fa-plus",ye.a.createIcon)}),s.a.createElement("div",{className:ye.a.createText},"create new quiz")),this.state.isLiveGame?s.a.createElement("div",{className:ye.a.liveGameButton,role:"button",tabIndex:0,onClick:this.loadLiveGame},s.a.createElement("div",{className:ye.a.liveGameText},"resume live game")):null,s.a.createElement("div",{className:ye.a.quizzesContainer},this.state.quizzes.map((function(t){return s.a.createElement("div",{className:ye.a.quizHolder,key:t.id},s.a.createElement("div",{className:ye.a.quizContainer},t.data.name),s.a.createElement("div",{className:ye.a.quizButtonContainer},D.isMobile?null:s.a.createElement(_e.a,{place:"top",effect:"solid",className:ye.a.tooltip}),s.a.createElement(o.b,{className:M()("fas fa-pencil-alt",ye.a.quizButton),"data-tip":"edit",to:"/admin/edit/".concat(t.id)}),s.a.createElement("i",{className:M()("fas fa-play",ye.a.quizButton),"data-tip":"host",role:"button",tabIndex:0,onClick:function(){return e.hostGame(t.id)}}),s.a.createElement("i",{className:M()("fas fa-trash-alt",ye.a.quizButton),"data-tip":"delete",role:"button",tabIndex:0,onClick:function(){return e.setState({deleteId:t.id})}})))}))),this.state.creating?s.a.createElement(xe,{text:"enter a title for the new quiz pls",buttonOne:{text:"create",onClick:this.onCreate},buttonTwo:{text:"nvm",onClick:function(){return e.setState({creating:!1})}},loading:this.state.loading,inputValue:this.state.createText,inputChange:function(t){return e.setState({createText:t.target.value})},inputPlaceholder:"title"}):this.state.deleteId?s.a.createElement(xe,{text:"do you really want to say goodbye to this quiz?",buttonOne:{text:"yeh",onClick:this.onDelete},buttonTwo:{text:"nooo!",onClick:function(){return e.setState({deleteId:""})}},loading:this.state.loading}):null)}}]),t}(s.a.Component),Ce=Object(c.g)(f(we)),Oe=a(60),je=a(250),ke=a.n(je),qe=a(4),Ie=a.n(qe),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={quiz:{},redirect:!1,round:"round1",saving:!1,editTitle:!1,showImageModal:!1,imageUrl:"",imageIndex:0,uploadingImage:!1,uploadError:!1},a.id=e.match.params.id,a.firebase=e.firebase,a.setValue=a.setValue.bind(Object(E.a)(a)),a.setTitle=a.setTitle.bind(Object(E.a)(a)),a.save=a.save.bind(Object(E.a)(a)),a.uploadImage=a.uploadImage.bind(Object(E.a)(a)),a.removeImage=a.removeImage.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getQuiz(this.id,(function(t){t.success?e.setState({quiz:t.data}):e.setState({redirect:!0})}))}},{key:"setValue",value:function(e,t,a){var n=JSON.parse(JSON.stringify(this.state.quiz)),s=n[this.state.round];"q"===t?s[a].q=e.target.value:"a"===t?s[a].a=e.target.value:s[a].pts=Math.max(e.target.value,0),this.setState({quiz:n})}},{key:"setTitle",value:function(e){var t=JSON.parse(JSON.stringify(this.state.quiz));t.name=e.target.value,this.setState({quiz:t})}},{key:"save",value:function(e){this.setState({saving:!0}),this.firebase.saveQuiz(this.id,this.state.quiz,(function(){return e()}))}},{key:"uploadImage",value:function(){var e=this;this.setState({uploadingImage:!0}),ke()(this.state.imageUrl)?this.firebase.uploadImage(this.state.imageUrl,(function(t,a){if(t){var n=JSON.parse(JSON.stringify(e.state.quiz)),s=n[e.state.round];s[e.state.imageIndex].img=t,s[e.state.imageIndex].imgId=a,e.setState({quiz:n,showImageModal:!1,uploadingImage:!1},(function(){return e.save((function(){return e.setState({saving:!1})}))}))}else e.setState({uploadingImage:!1,uploadError:!0})})):this.setState({uploadingImage:!1,uploadError:!0})}},{key:"removeImage",value:function(e){var t=this,a=JSON.parse(JSON.stringify(this.state.quiz)),n=a[this.state.round];this.firebase.removeImage(n[e].imgId),n[e].img="",n[e].imgId="",this.setState({quiz:a,showImageModal:!1},(function(){return t.save((function(){return t.setState({saving:!1})}))}))}},{key:"render",value:function(){var e=this;return!this.id||this.state.redirect?s.a.createElement(c.a,{to:"/admin/dashboard"}):void 0!==this.state.quiz.name?s.a.createElement("div",{className:Ie.a.container},s.a.createElement("div",{className:Ie.a.headerContainer},s.a.createElement("div",{className:Ie.a.header},this.state.quiz.name),this.state.saving?s.a.createElement("div",{className:Ie.a.buttonContainer},s.a.createElement(ge,{margin:"auto"})):s.a.createElement("div",{className:Ie.a.buttonContainer},s.a.createElement("div",{className:Ie.a.button,role:"button",tabIndex:0,onClick:function(){return e.setState({editTitle:!0})}},s.a.createElement("i",{className:M()("fas fa-pencil-alt",Ie.a.buttonIcon)}),s.a.createElement("div",{className:Ie.a.buttonText},"edit title")),s.a.createElement("div",{className:Ie.a.button,role:"button",tabIndex:0,onClick:function(){return e.save((function(){return e.setState({saving:!1})}))}},s.a.createElement("i",{className:M()("fas fa-save",Ie.a.buttonIcon)}),s.a.createElement("div",{className:Ie.a.buttonText},"save")),s.a.createElement("div",{className:Ie.a.button,role:"button",tabIndex:0,onClick:function(){return e.save((function(){return e.props.history.push("/admin/dashboard")}))},style:{marginRight:0}},s.a.createElement("i",{className:M()("fas fa-running",Ie.a.buttonIcon)}),s.a.createElement("div",{className:Ie.a.buttonText},"save & exit")))),s.a.createElement("div",{className:Ie.a.roundContainer},s.a.createElement("div",{className:M()(Ie.a.round,Object(Oe.a)({},Ie.a.selected,"round1"===this.state.round)),role:"button",tabIndex:0,onClick:function(){return e.setState({round:"round1"})}},"round 1"),s.a.createElement("div",{className:M()(Ie.a.round,Object(Oe.a)({},Ie.a.selected,"round2"===this.state.round)),role:"button",tabIndex:0,onClick:function(){return e.setState({round:"round2"})}},"round 2"),s.a.createElement("div",{className:M()(Ie.a.round,Object(Oe.a)({},Ie.a.selected,"round3"===this.state.round)),role:"button",tabIndex:0,onClick:function(){return e.setState({round:"round3"})}},"round 3")),this.state.quiz[this.state.round].map((function(t,a){return s.a.createElement("div",{className:Ie.a.questionContainer,key:a},10===a?s.a.createElement("i",{className:M()("fas fa-star",Ie.a.questionNum)}):s.a.createElement("div",{className:Ie.a.questionNum},a+1),s.a.createElement("div",{className:Ie.a.inputsContainer},s.a.createElement("div",{className:Ie.a.inputContainer},s.a.createElement("div",{className:Ie.a.inputText},"q:"),s.a.createElement(W,{placeholder:"question",value:e.state.quiz[e.state.round][a].q,onChange:function(t){return e.setValue(t,"q",a)},width:"100%"})),s.a.createElement("div",{className:Ie.a.inputContainer},s.a.createElement("div",{className:Ie.a.inputText},"a:"),s.a.createElement(W,{placeholder:"answer",value:e.state.quiz[e.state.round][a].a,onChange:function(t){return e.setValue(t,"a",a)},width:"100%"}))),s.a.createElement("div",{className:Ie.a.centeredRow},s.a.createElement("div",{className:Ie.a.pointsContainer},s.a.createElement(W,{value:e.state.quiz[e.state.round][a].pts,onChange:function(t){return e.setValue(t,"pts",a)},type:"number",width:"100%",customStyle:{fontSize:"34px",lineHeight:"34px",fontWeight:"bold",textAlign:"center"}}),s.a.createElement("div",{className:Ie.a.pointsText},1===e.state.quiz[e.state.round][a].pts?"point":"points")),s.a.createElement("div",{className:Ie.a.imageContainer},e.state.quiz[e.state.round][a].img?s.a.createElement("div",{className:Ie.a.imageContainer},s.a.createElement("img",{src:e.state.quiz[e.state.round][a].img,alt:"Question",className:Ie.a.image}),s.a.createElement("i",{className:M()(Ie.a.deleteImage,"fas fa-times"),role:"button",tabIndex:0,onClick:function(){return e.removeImage(a)}})):s.a.createElement("div",{className:Ie.a.imageButton,role:"button",tabIndex:0,onClick:function(){return e.setState({showImageModal:!0,imageIndex:a,imageUrl:""})}},s.a.createElement("i",{className:M()(Ie.a.imageIcon,"far fa-image")}),s.a.createElement("div",{className:Ie.a.imageText},"add image")))))})),this.state.editTitle?s.a.createElement(xe,{text:"fine, change the title...",buttonOne:{text:"cool",onClick:function(){return e.save((function(){return e.setState({saving:!1,editTitle:!1})}))}},loading:this.state.saving,inputValue:this.state.quiz.name,inputChange:this.setTitle,inputPlaceholder:"title"}):this.state.showImageModal?s.a.createElement(xe,{text:this.state.uploadError?"we couldn't find the image at that url...":"give me image url, now...",buttonOne:{text:"add",onClick:this.uploadImage},buttonTwo:{text:"nvm",onClick:function(){return e.setState({showImageModal:!1})}},loading:this.state.uploadingImage,inputValue:this.state.imageUrl,inputChange:function(t){return e.setState({imageUrl:t.target.value,uploadError:!1})},inputPlaceholder:"image url"}):null):null}}]),t}(s.a.Component),Se=Object(c.g)(f(Te)),ze=a(35),Re=a.n(ze),Ge=f(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={teams:[]},a.firebase=e.firebase,a.dbRef=a.firebase.getLiveGameRef(),a.start=a.start.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",(function(t){e.setState({teams:t.val().teams?Object.keys(t.val().teams):[]})}))}},{key:"componentWillUnmount",value:function(){this.dbRef.off("value")}},{key:"start",value:function(){var e=this;this.firebase.setStage("round1",(function(){e.props.history.push("/host/question/1")}))}},{key:"render",value:function(){return s.a.createElement("div",{className:Re.a.container},s.a.createElement("div",{className:Re.a.headerRow},s.a.createElement("img",{src:z.a,alt:"Duke@Nite",className:Re.a.logo}),s.a.createElement("div",{className:Re.a.headerText},"trivia night")),s.a.createElement("div",{className:Re.a.startButton,role:"button",tabIndex:0,onClick:this.start},"start",s.a.createElement("i",{className:M()("fas fa-arrow-right",Re.a.arrow)})),s.a.createElement("div",{className:Re.a.instructText},"join at\xa0",s.a.createElement("u",null,"duudevops.github.io/trivia/play")),s.a.createElement("div",{className:Re.a.teamsContainer},this.state.teams.map((function(e){return s.a.createElement("div",{className:Re.a.team,key:e},e)}))))}}]),t}(s.a.Component)),Be=a(98),Ae=a(24),De=a.n(Ae),Le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={qnum:parseInt(e.match.params.qnum),roundNum:1,question:{},questions:[]},a.firebase=e.firebase,a.stage="",a.endRound=a.endRound.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getGame((function(t){if(t.success){var a=t.data,n=a[a.stage].filter((function(e){return""!==e.q}));!e.state.qnum||e.state.qnum>n.length?e.props.history.push("/admin/dashboard"):(e.stage=a.stage,e.setState({question:n[e.state.qnum-1],questions:n,roundNum:a.stage.substring(a.stage.length-1,a.stage.length)}))}}))}},{key:"endRound",value:function(){var e=this;this.firebase.setStage("".concat(this.stage,"-grading"),(function(){e.props.history.push("/host/grading")}))}},{key:"render",value:function(){return this.state.qnum?this.state.questions.length>0?s.a.createElement("div",{className:De.a.container},s.a.createElement("img",{src:z.a,alt:"Duke@Nite Logo",className:De.a.logo,draggable:!1}),s.a.createElement("div",{className:De.a.header},"round ".concat(this.state.roundNum,": "),11===this.state.qnum?"bonus question":"question ".concat(this.state.qnum)),s.a.createElement("div",{className:De.a.questionContainer},this.state.question.img?s.a.createElement("img",{src:this.state.question.img,alt:"Question",className:De.a.questionImage,draggable:!1}):null,this.state.question.q?s.a.createElement(Be.Textfit,{className:De.a.questionText,style:{width:this.state.question.img?"48vw":"80vw",height:this.state.question.img?"70vh":"60vh"},mode:"multi",max:70},this.state.question.q):null),this.state.qnum===this.state.questions.length?s.a.createElement("div",{className:De.a.nextButton,role:"button",tabIndex:0,onClick:this.endRound,style:{right:"3vw",bottom:"3vh"}},"end round",s.a.createElement("i",{className:M()("fas fa-arrow-right",De.a.arrow)})):s.a.createElement(o.b,{className:De.a.nextButton,to:"/host/question/".concat(this.state.qnum+1),style:{right:"3vw",bottom:"3vh"}},"next",s.a.createElement("i",{className:M()("fas fa-arrow-right",De.a.arrow)})),1!==this.state.qnum?s.a.createElement(o.b,{className:De.a.nextButton,to:"/host/question/".concat(this.state.qnum-1),style:{left:"3vw",bottom:"3vh"}},s.a.createElement("i",{className:M()("fas fa-arrow-left",De.a.arrow)}),"back"):null):null:s.a.createElement(c.a,{to:"/admin/login"})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=parseInt(e.match.params.qnum);return a!==t.qnum?{qnum:a,question:t.questions[a-1]}:t}}]),t}(s.a.Component),Me=Object(c.g)(f(Le)),Qe=a(13),Je=a.n(Qe),Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={questions:[],teams:{},teamNames:[],currentTeamNum:-1,teamCorrects:[],round:"",showQuestion:-1},a.firebase=e.firebase,a.currentRoundTeamScores=[],a.changeGrade=a.changeGrade.bind(Object(E.a)(a)),a.nextTeam=a.nextTeam.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout((function(){e.firebase.getGame((function(t){if(t.success){var a=t.data,n=a.stage.split("-")[0];e.setState({questions:a[n].filter((function(e){return""!==e.q})),teams:a.teams,teamNames:Object.keys(a.teams),currentTeamNum:0,teamCorrects:[0,0,0,0,0,0,0,0,0,0,0],round:n},(function(){var e=document.getElementById("id0");setTimeout((function(){e.select()}),0)}))}}))}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"changeGrade",value:function(e,t){var a=Object(A.a)(this.state.teamCorrects);a[e]=t,this.setState({teamCorrects:a})}},{key:"nextTeam",value:function(e){var t=this;e.preventDefault(),this.currentRoundTeamScores.push(this.state.teamCorrects.reduce((function(e,t){return e+t})));var a=this.state.currentTeamNum+1;if(a<this.state.teamNames.length){var n=document.getElementById("id0");setTimeout((function(){n.select()}),0),this.setState({teamCorrects:[0,0,0,0,0,0,0,0,0,0,0],currentTeamNum:a},(function(){return window.scrollTo(0,0)}))}else{for(var s=JSON.parse(JSON.stringify(this.state.teams)),i=0;i<this.state.teamNames.length;i++){var r=this.state.teamNames[i],o=s[r].score||0;o+=this.currentRoundTeamScores[i],s[r].score=o}this.firebase.setStandings(s,this.state.round,(function(){t.props.history.push("/host/standings")}))}}},{key:"render",value:function(){var e=this;return this.state.questions.length>0?s.a.createElement("div",{className:Je.a.container},s.a.createElement("div",{className:Je.a.header},"team ".concat(this.state.currentTeamNum+1,"/").concat(this.state.teamNames.length)),s.a.createElement("div",{className:Je.a.headerContainer},s.a.createElement("div",{className:Je.a.subheader},"actual answer"),s.a.createElement("div",{className:Je.a.subheader},"team answer")),s.a.createElement("form",{onSubmit:this.nextTeam},s.a.createElement("div",{className:Je.a.gradingContainer},s.a.createElement("div",{className:Je.a.divider}),this.state.questions.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("div",{className:Je.a.gradeContainer},s.a.createElement("div",{className:Je.a.showButton,role:"button",tabIndex:1,onClick:function(){return e.setState({showQuestion:a})}},s.a.createElement("i",{className:M()(Je.a.questionIcon,"fas fa-question")}),s.a.createElement("div",{className:Je.a.viewText},"View")),s.a.createElement("div",{className:Je.a.answer},t.a),s.a.createElement("div",{className:Je.a.answer,style:{marginLeft:"5vw"}},e.state.teams[e.state.teamNames[e.state.currentTeamNum]][e.state.round]&&e.state.teams[e.state.teamNames[e.state.currentTeamNum]][e.state.round][a]?e.state.teams[e.state.teamNames[e.state.currentTeamNum]][e.state.round][a]:"no answer"),s.a.createElement("div",{className:Je.a.pointsContainer},s.a.createElement(W,{value:e.state.teamCorrects[a],onChange:function(n){return e.changeGrade(a,Math.min(n.target.value,t.pts))},type:"number",width:"6vw",id:"id".concat(a),customStyle:{fontSize:"3vw",lineHeight:"3vw",fontWeight:"bold",textAlign:"center"}}),s.a.createElement("div",{className:Je.a.pointsText},"/ ".concat(t.pts)))),s.a.createElement("div",{className:Je.a.divider}))}))),s.a.createElement("div",{className:Je.a.nextButton,role:"button",tabIndex:0,onClick:this.nextTeam,style:{right:"3vw",bottom:"3vh"}},this.state.currentTeamNum+1<this.state.teamNames.length?"next":"standings",s.a.createElement("i",{className:M()("fas fa-arrow-right",Je.a.arrow)})),s.a.createElement("input",{type:"submit",style:{opacity:0,display:"none"}})),-1!==this.state.showQuestion?s.a.createElement("div",{className:Je.a.modal},s.a.createElement("div",{className:Je.a.popUp},this.state.questions[this.state.showQuestion].img?s.a.createElement("img",{src:this.state.questions[this.state.showQuestion].img,alt:"Question",className:Je.a.showImage}):null,s.a.createElement("div",{className:Je.a.showText},this.state.questions[this.state.showQuestion].q),s.a.createElement("i",{className:M()("fas fa-times",Je.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showQuestion:-1})}}))):null):null}}]),t}(s.a.Component),Pe=Object(c.g)(f(Ue)),Ve=a(22),We=a.n(Ve),He=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).state={standings:[],stage:""},a.firebase=e.firebase,a.round="",a.nextRound=a.nextRound.bind(Object(E.a)(a)),a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.firebase.getGame((function(t){if(t.success&&t.data){var a=t.data,n=Object.entries(a.teams).map((function(e){var t=Object(ie.a)(e,2),a=t[0],n=t[1];return{name:a,score:n.score,ids:n.ids,place:1}}));n.sort((function(e,t){return t.score-e.score}));for(var s=1,i=1;i<n.length;i++)n[i].score<n[i-1].score&&(s+=1),n[i].place=s;var r=a.stage.split("-");e.round=r[0],e.setState({standings:n,stage:r[1]})}}))}},{key:"nextRound",value:function(){var e=this;this.firebase.setStage("round".concat(parseInt(this.round.slice(-1))+1),(function(){e.props.history.push("/host/question/1")}))}},{key:"render",value:function(){var e=this;return this.state.stage?s.a.createElement("div",{className:We.a.container},s.a.createElement("div",{className:We.a.headerRow},s.a.createElement("div",{className:We.a.headerText},this.state.stage),s.a.createElement("img",{src:z.a,alt:"Duke@Nite",className:We.a.headerLogo})),s.a.createElement("div",{className:We.a.divider,style:{width:"60vw"}}),"final standings"!==this.state.stage?s.a.createElement("div",{className:We.a.nextButton,role:"button",tabIndex:0,onClick:this.nextRound},"next round",s.a.createElement("i",{className:M()("fas fa-arrow-right",We.a.arrow)})):null,this.state.standings.filter((function(e,t){return t<5})).map((function(t,a){return s.a.createElement("div",{className:We.a.standingsHolder,key:t.name,style:{marginBottom:a!==e.state.standings.length-1?0:"auto"}},s.a.createElement(_e.a,{place:"top",effect:"solid",className:We.a.tooltip}),s.a.createElement("div",{className:We.a.standingContainer,"data-tip":j(t.ids)},s.a.createElement("div",{className:We.a.placeText},t.place),s.a.createElement(Be.Textfit,{className:We.a.nameText,mode:"single",forceSingleModeWidth:!1,max:32},t.name),s.a.createElement("div",{className:We.a.scoreText},t.score)),a!==e.state.standings.length-1?s.a.createElement("div",{className:We.a.divider}):null)}))):null}}]),t}(s.a.Component),Fe=Object(c.g)(f(He));r.a.render(s.a.createElement(g.Provider,{value:new v},s.a.createElement(o.a,null,s.a.createElement(c.d,null,s.a.createElement(c.b,{exact:!0,path:"/",component:B}),s.a.createElement(c.b,{exact:!0,path:"/play",component:F}),s.a.createElement(T,{exact:!0,path:"/play/waiting",component:ee}),s.a.createElement(T,{exact:!0,path:"/play/answer",component:se}),s.a.createElement(T,{exact:!0,path:"/play/standing",component:le}),s.a.createElement(c.b,{exact:!0,path:"/admin/login",component:ve}),s.a.createElement(q,{exact:!0,path:"/admin/dashboard",component:Ce}),s.a.createElement(q,{exact:!0,path:"/admin/edit/:id",component:Se}),s.a.createElement(q,{exact:!0,path:"/host/join",component:Ge}),s.a.createElement(q,{exact:!0,path:"/host/question/:qnum",component:Me}),s.a.createElement(q,{exact:!0,path:"/host/grading",component:Pe}),s.a.createElement(q,{exact:!0,path:"/host/standings",component:Fe}),s.a.createElement(c.b,{component:B})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,a){e.exports={container:"styles_container__158Pe",header:"styles_header__1Pd7W",answerContainer:"styles_answerContainer__390sy",answerNum:"styles_answerNum__2ponQ"}},75:function(e,t,a){e.exports={container:"styles_container__3yLd7",text:"styles_text__rvx52",excuseText:"styles_excuseText__1cqea",noButton:"styles_noButton__2ARFM"}},76:function(e,t,a){e.exports={holder:"styles_holder__1im62",bounce1:"styles_bounce1___BVxo",bounce2:"styles_bounce2__1cygT",bounce3:"styles_bounce3__2VPIn",bounceDelay:"styles_bounceDelay__1QqtS"}}},[[251,1,2]]]);
//# sourceMappingURL=main.fa84236e.chunk.js.map